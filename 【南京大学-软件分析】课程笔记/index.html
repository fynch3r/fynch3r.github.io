<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-pace-theme-flash.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<!--

  <script src="//code.tidio.co/oixl41gwhy8tvqy6jte9uvglyrqcjrvc.js" async></script>

-->

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"0range228.github.io","root":"/","scheme":"Pisces","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":null,"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>
  <meta name="description" content="序言 返景入深林，复照青苔上。  越来越发现基础知识的重要，前一阵又跟着老师过了一遍，理解更加深入了，顺便写点笔记。">
<meta name="keywords" content="静态分析基础">
<meta property="og:type" content="article">
<meta property="og:title" content="【南京大学-软件分析】课程笔记">
<meta property="og:url" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;index.html">
<meta property="og:site_name" content="0range的小窝">
<meta property="og:description" content="序言 返景入深林，复照青苔上。  越来越发现基础知识的重要，前一阵又跟着老师过了一遍，理解更加深入了，顺便写点笔记。">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200817120652100.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200816162005843.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200816170139381.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200816173735317.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200816192800941.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200816223026303.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200817113112671.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200817152249362.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200817152835145.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200817153034289.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200817153731110.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200817154222620.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200817155923509.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200817160542369.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200817160753583.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200817164924402.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200819145537874.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200820134652089.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200819173409266.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200819231636245.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200820135804188.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200820135717376.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200820135942083.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200820140035092.png">
<meta property="og:image" content="https:&#x2F;&#x2F;math.jianshu.com&#x2F;math?formula=%5Cphi">
<meta property="og:image" content="https:&#x2F;&#x2F;math.jianshu.com&#x2F;math?formula=%5Cphi">
<meta property="og:image" content="https:&#x2F;&#x2F;math.jianshu.com&#x2F;math?formula=%5Cphi">
<meta property="og:image" content="https:&#x2F;&#x2F;math.jianshu.com&#x2F;math?formula=%5Cphi">
<meta property="og:image" content="https:&#x2F;&#x2F;math.jianshu.com&#x2F;math?formula=%5Cphi">
<meta property="og:image" content="https:&#x2F;&#x2F;math.jianshu.com&#x2F;math?formula=%5Ccap">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200820144123296.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200820153748384.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200820154231317.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200820171746662.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200820185210859.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200820191836010.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200820192420306.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200820200526298.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200820200608864.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200820201238630.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200820202412900.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200820202545816.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200820205630518.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200820211018670.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200820211250368.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200820215618991.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200821141953794.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200821142006459.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200821142307752.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200821142322795.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200821142331887.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200821144337058.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200821145654210.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200821145739636.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200821151356610.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200821151135955.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200821152431420.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200821152451027.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200821160213954.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200821160225796.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200821162306327.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200821163139469.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200821164426276.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200821201839389.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200822120758965.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200822121013626.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200822205645298.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200822205652596.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200822210617432.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200822214448736.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200822214519895.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200822215953297.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200823095125945.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200823102314573.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200823105551301.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200823110808268.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200823112520799.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200823121139273.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200823121556416.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200823152109890.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200823153545185.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200823160046190.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200823160313045.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200823161014112.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200823161210004.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200823164736418.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200823164722791.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200823170535943.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200823170722727.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200823171047905.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200823222852548.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824003804482.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824132635446.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824135220028.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824135336802.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824135532341.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824140017899.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824140118428.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824151533801.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824151918157.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824152807239.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824152953917.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824153253589.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824153518243.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824153533320.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824153621112.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824215741366.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824220851231.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824221040655.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824221625840.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824225530096.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824231337322.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200824231630468.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200825134216437.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200825135441351.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200825141714234.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200825164309086.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200825165114916.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200825165457684.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200825170905512.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200825170932518.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200825173755842.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200825211520919.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200825212747860.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200825214950322.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200825220600403.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200825223106171.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200825230454779.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200825230511116.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200825230522461.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200825230355976.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200825230709085.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826010740396.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826011344657.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826011439285.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826012027064.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826012335207.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826012857854.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826012846362.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826013113164.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826134802054.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826135734797.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826140309150.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826140937303.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826141241983.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826145727101.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826154238766.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826155325353.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826155805722.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826160638720.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826161010695.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826162027035.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826162045978.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826163420112.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826203231609.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826204036519.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826204209021.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826210136864.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826211230895.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826212936379.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826212953538.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826213916653.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826214144125.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826213540508.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826214438975.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826221132542.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826222753564.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826222742365.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826223142375.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826224003312.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826225153922.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826225740559.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826230255993.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826230814620.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826231316170.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200826231327413.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200827104907724.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200827110020773.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200827152049773.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200827213547440.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200828104139957.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200828105754052.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200828105808896.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200828111138550.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200828122836984.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200828163341454.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200828163422557.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200828170124984.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200828171430697.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200828173236760.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200829111141207.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200829111247813.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200829114338794.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200829121022899.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200829121859408.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200829122128987.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200829122249017.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200829122648056.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;6349402-5043f4907cd15c10-20200829215452471.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;6349402-1f2401da0b53aa3a.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200829213817200.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200829215602083.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200830164532751.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200830165227825.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200830171109282.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200830172333870.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200830205416161.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200830211838150.png">
<meta property="og:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200830214334563.png">
<meta property="og:updated_time" content="2020-08-30T13:46:34.245Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https:&#x2F;&#x2F;0range228.github.io&#x2F;images&#x2F;%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0&#x2F;image-20200817120652100.png">

<link rel="canonical" href="https://0range228.github.io/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true
  };
</script>

  <title>【南京大学-软件分析】课程笔记 | 0range的小窝</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="0range的小窝" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
<a href="https://github.com/0range228" target="_blank" rel="noopener" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#FFA500; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">0range的小窝</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Hello,World.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">19</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">9</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">33</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://0range228.github.io/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/yfy.png">
      <meta itemprop="name" content="0range">
      <meta itemprop="description" content="zzz">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="0range的小窝">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          【南京大学-软件分析】课程笔记
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-16 16:13:59" itemprop="dateCreated datePublished" datetime="2020-08-16T16:13:59+08:00">2020-08-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-30 21:46:34" itemprop="dateModified" datetime="2020-08-30T21:46:34+08:00">2020-08-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90/" itemprop="url" rel="index"><span itemprop="name">静态分析</span></a>
                </span>
            </span>

          
            <span id="/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/" class="post-meta-item leancloud_visitors" data-flag-title="【南京大学-软件分析】课程笔记" title="热度">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">热度：</span>
              <span class="leancloud-visitors-count"></span>
              <span>°C</span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>30k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>49 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h1><blockquote>
<p>返景入深林，复照青苔上。</p>
</blockquote>
<p>越来越发现基础知识的重要，前一阵又跟着老师过了一遍，理解更加深入了，顺便写点笔记。</p>
<a id="more"></a>

<h1 id="01"><a href="#01" class="headerlink" title="01"></a>01</h1><h2 id="PL：Programming-Language"><a href="#PL：Programming-Language" class="headerlink" title="PL：Programming Language"></a>PL：Programming Language</h2><p>理论：语言设计，类型系统，语义和逻辑</p>
<p>环境：编译器，运行系统</p>
<p>应用：程序分析，程序验证，程序合成</p>
<p>技术：抽象解释（Abstract interpretation），数据流分析（Data-flow analysis, ），Hoare logic，Model checking，Symbolic execution等等</p>
<p><strong>静态分析作用</strong>：程序可靠性、程序安全性、编译优化、程序理解（调用关系、类型识别）。</p>
<h2 id="Soundness-amp-Completeness"><a href="#Soundness-amp-Completeness" class="headerlink" title="Soundness &amp; Completeness"></a>Soundness &amp; Completeness</h2><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200817120652100.png" alt="image-20200817120652100"></p>
<p>解释：</p>
<p>Truth：理论上的既sound又complete的概念。它代表着所有的程序的特点。假如说程序存在10个空指针应用的异常，那么truth的定义就是10，但是莱斯定理表明，并不存在这样的一个方法可以把这所有的10个异常都检查出来。Truth其实就是那个理论上的最优结果。</p>
<p>Sound：对程序进行过拟合，over-approximate，不会漏报，但是会有误报false positives</p>
<p>Complete：对程序进行欠拟合，under-approximate，不会误报，但是会有漏报false negatives</p>
<p>妥协soundness，相当于sound圈变小了，会造成漏报false negatives；</p>
<p>妥协completeness，相当于complete圈变大了，会造成误报false positives；</p>
<p>几乎所有的静态分析都会妥协completeness，宁愿误报也不要漏报！</p>
<p>很多重要领域如军工、航天领域，我们追求的是soundness，但是要平衡精度和速度。那么我们绝大多数软件分析方法都做到了completeness，那么只要能证明满足soundness，那么该分析方法就是正确的。</p>
<h1 id="02"><a href="#02" class="headerlink" title="02"></a>02</h1><h2 id="编译器与静态分析的关系"><a href="#编译器与静态分析的关系" class="headerlink" title="编译器与静态分析的关系"></a>编译器与静态分析的关系</h2><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200816162005843.png" alt="image-20200816162005843"></p>
<ol>
<li><p>源码</p>
</li>
<li><p>Scanner-词法分析LexicalAnalysis-正则表达式RegularExpression</p>
<p>这一环中，判断每一个单词是否是合理的，合理的话就转换为Tokens，给下一步继续分析。</p>
</li>
<li><p>Parser-语法分析SyntaxAnalysis-上下文无关文法Context-Free Grammar</p>
<p>这一环中，语法分析主要是判断语法是否合理，类似符合英语的“主谓宾”结构。</p>
<p>这里用到一套形式化的结构就是上下文无关文法。</p>
<p>生成语法树。</p>
<p>为什么不用上下文敏感的语法来参与分析？</p>
<p>答：就目前编程语言来说，上下文无关文法已经足够了。</p>
<p>​        如果用上下文关联的语法，杀鸡用40米的牛刀，它更适合分析人讲的自然语言。</p>
<p>​        弱表达能力的使用起来速度更快，效率更高。</p>
</li>
<li><p>Type Checker-语义检测Semantic Analysis-Attribute Grammar</p>
<p>根据上一步生成的AST抽象语法树，编译器会进行一点特别简单的语义检查，例如Type-Checking类型检查。</p>
<p>简单判断变量类型，例如float不能赋值给int。</p>
<p>生成圣诞树。Decorated AST</p>
</li>
<li><p>Translator-生成中间表示代码IR-进行静态分析，优化</p>
<p>IR普遍是三地址码，进行优化，安全检查。</p>
<p>最后生成machine code机器码。</p>
</li>
</ol>
<p><strong>IR称为编译器前端</strong>，对于检查安全漏洞来说，必须要先把前端的检查都通过了，再去挑错，否则如果连基本的程序编译都无法通过，那么继续调漏洞也将毫无意义。</p>
<h2 id="AST-vs-IR"><a href="#AST-vs-IR" class="headerlink" title="AST vs. IR"></a>AST vs. IR</h2><p><strong>AST</strong> ：高级，更接近于语法结构，依赖于语言种类，适用于快速类型检查，缺少控制流信息。</p>
<p><strong>IR</strong>：低级，更接近于机器码，不依赖语言种类，压缩且简洁，包含控制流信息。是静态分析的基础。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200816170139381.png" alt="image-20200816170139381"></p>
<h2 id="3AC-3地址码"><a href="#3AC-3地址码" class="headerlink" title="3AC-3地址码"></a>3AC-3地址码</h2><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200816173735317.png" alt="image-20200816173735317"></p>
<h2 id="Soot"><a href="#Soot" class="headerlink" title="Soot"></a>Soot</h2><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200816192800941.png" alt="image-20200816192800941"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// java IR（Jimple）基本知识</span></span><br><span class="line">invokespecial：call constructor, call superclass methods, call <span class="keyword">private</span> methods</span><br><span class="line">invokevirtual: <span class="function">instance methods <span class="title">call</span> <span class="params">(virtual dispatch)</span> 派生</span></span><br><span class="line"><span class="function">invokeinterface: cannot optimization, checking interface implementation</span></span><br><span class="line"><span class="function">invokestatic:call <span class="keyword">static</span> methods</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">Java 7: invokedynamic -&gt; Java <span class="keyword">static</span> typing, dynamic language runs on JVM</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">method signature: class name, return type, method <span class="title">name</span><span class="params">(parameter1 type, parameter2 type)</span></span></span><br></pre></td></tr></table></figure>

<h2 id="BasicBlock-BB-基本块"><a href="#BasicBlock-BB-基本块" class="headerlink" title="BasicBlock BB 基本块"></a>BasicBlock BB 基本块</h2><p><strong>定义</strong>：只有唯一1个开头入口和唯一1个结尾出口的<strong>最长</strong>3-地址指令序列。</p>
<p><strong>识别基本块的算法</strong>：</p>
<p>首先确定入口指令，第一条指令是入口；</p>
<p>任何跳转指令的目标地址是入口；</p>
<p>任何跟在跳转指令之后的指令是入口。</p>
<p>然后构造基本块，任何基本块包含1个入口指令和其接下来的指令。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200816223026303.png" alt="image-20200816223026303"></p>
<h2 id="CFG-Control-Flow-Graph"><a href="#CFG-Control-Flow-Graph" class="headerlink" title="CFG Control Flow Graph"></a>CFG Control Flow Graph</h2><p><strong>控制流边</strong>：</p>
<p>基本块A的结尾有跳转指令跳转到基本块B；</p>
<p>原始指令序列中，B紧跟着A，且A的结尾不是无条件跳转。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200817113112671.png" alt="image-20200817113112671"></p>
<h1 id="03"><a href="#03" class="headerlink" title="03"></a>03</h1><h2 id="Data-Flow-Analysis"><a href="#Data-Flow-Analysis" class="headerlink" title="Data Flow Analysis"></a>Data Flow Analysis</h2><p>总结：</p>
<p>数学符号形式化表示；</p>
<p>数据流分析其实就是在CFG上分析。</p>
<p>绝大部分静态分析都是牺牲了completeness，去追求soundness。放弃了速度，去追求精度。</p>
<p>首先对数据进行抽象，形式化表达；</p>
<p>接下来对程序进行over-approximation，过拟合，也就是说程序在运行中所有可能产生的值，都要在静态分析时候去考虑到。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200817152249362.png" alt="image-20200817152249362"></p>
<p>May-analysis：输出信息可能是正确的，相当于已经做了over-approximation过拟合；</p>
<p>Must-analysis：输出信息必须是正确的，准确的，相当于已经做了under-approxiamtion欠拟合；</p>
<p>may-analysis：绝大部分静态分析都是may，会有误报，；</p>
<p>must-analysis：会有漏报；</p>
<p>三要素：Nodes (BBs/statements)、Edges (control flows)、CFG (a program)</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200817152835145.png" alt="image-20200817152835145"></p>
<p>不同的数据流分析 有 不同的数据<strong>抽象表达</strong> 和 不同的<strong>安全近似策略</strong>，如 不同的 <strong>转换规则</strong> 和 <strong>控制流</strong>处理。</p>
<h2 id="数据流分析预备知识"><a href="#数据流分析预备知识" class="headerlink" title="数据流分析预备知识"></a>数据流分析预备知识</h2><p><strong>输入/输出状态</strong>：程序执行前/执行后的状态（本质就是抽象表达的数据的状态，如变量的状态）。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200817153034289.png" alt="image-20200817153034289"></p>
<p><strong>数据流分析的结果</strong>：最终得到，每一个程序点对应一个数据流值(data-flow value)，表示该点所有可能程序状态的一个抽象。例如，我只关心x、y的值，我就用抽象来表示x、y所有可能的值的集合（输入/输出的值域/约束），就代表了该程序点的程序状态。</p>
<p><strong>Transfer Funtion</strong>：</p>
<p>转换函数，约束规则。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200817153731110.png" alt="image-20200817153731110"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Forward Analysis前向分析：按程序执行顺序的分析。OUT[s]=fs(IN[s])，s-statement</span><br><span class="line">Backward Analysis反向分析：逆向分析。IN[s]=fs(OUT[s])</span><br></pre></td></tr></table></figure>

<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200817154222620.png" alt="image-20200817154222620"></p>
<h2 id="Reaching-Definitions-Analysis"><a href="#Reaching-Definitions-Analysis" class="headerlink" title="Reaching Definitions Analysis"></a>Reaching Definitions Analysis</h2><p>可达性分析 may-analysis</p>
<p><strong>问题定义</strong>：给变量v一个定义d（赋值），存在一条路径使得程序点p能够到达q，且在这个过程中不能改变v的赋值。</p>
<p><strong>应用举例</strong>：检测未定义的变量，若v可达p且v没有被定义，则为未定义的变量。</p>
<p><strong>抽象表示</strong>：设程序有n条赋值语句，用n位向量来表示能reach与不能reach。</p>
<h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p><strong>Transfer Function</strong>：OUT[B] = genB U (IN[B] - killB) </p>
<p><strong>解释</strong>：基本块B的输出 = 块B内的所有变量v的定义（赋值/修改）语句  U （基本块B的输入-程序中其它所有定义了变量v的语句）。本质就是本块与前驱修改变量的语句 作用之和（去掉前驱的重复修改语句）。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200817155923509.png" alt="image-20200817155923509"></p>
<p>简单例子：</p>
<p>以第一个基本块为例，gen就是d1,d2,d3三个定义语句，kill需要杀掉的就是在d1,d2,d3中定义的变量(i,j,a)在别处也被定义的语句，图里就是d4,d5,d6，他们三个都需要被kill掉。</p>
<p><strong>Control Flow</strong>：IN[B] = Up a_predecesso_of_B Out[P] ——怎么理解，就是基于控制流而得到。</p>
<p><strong>解释</strong>：基本块B的输入 = 块B所有前驱块P的输出的并集。注意，所有前驱块意味着只要有一条路径能够到达块B，就是它的前驱，包括条件跳转与无条件跳转，所以需要搞并集union。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200817160542369.png" alt="image-20200817160542369"></p>
<h3 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h3><p><strong>目的</strong>：输入CFG，计算好每个基本块的killB（程序中其它块中定义了变量v的语句）和genB（块B内的所有变量v的定义语句），输出每个基本块的IN[B]和OUT[B]。</p>
<p><strong>方法</strong>：首先所有基本块的OUT[B]初始化为空。遍历每一个基本块B，按以上两个公式计算块B的IN[B]和OUT[B]，只要这次遍历时有某个块的OUT[B]发生变化，则重新遍历一次（因为程序中有循环存在，只要某块的OUT[B]变了，就意味着后继块的IN[B]变了）。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200817160753583.png" alt="image-20200817160753583"></p>
<h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><p><strong>抽象表示</strong>：设程序有n条赋值语句，用n位向量来表示能reach与不能reach。</p>
<p><strong>说明</strong>：红色-第1次遍历；蓝色-第2次遍历；绿色-第3次遍历。先kill，再gen。</p>
<p><strong>结果</strong>：3次遍历之后，每个基本块的OUT[B]都不再变化。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200817164924402.png" alt="image-20200817164924402"></p>
<p>现在，我们可以回想一下，数据流分析的目标是，最后得到了，每个程序点关联一个数据流值（该点所有可能的程序状态的一个抽象表示，也就是这个n位向量）。在这个过程中，对每个基本块，不断利用基于转换规则的语义（也就是transfer functions，构成基本块的语句集）-<code>OUT[B]</code>、控制流的约束-<code>IN[B]</code>，最终得到一个稳定的安全的近似约束集。</p>
<h3 id="停止条件"><a href="#停止条件" class="headerlink" title="停止条件"></a>停止条件</h3><p>OUT[B] = genB U (IN[B] - killB)</p>
<p><strong>大致理解</strong>：genB和 killB是不变的，只有IN[B]在变化，所以说OUT[B]只会增加不会减少，n向量长度是有限的，所以最终肯定会停止。in决定out，out又决定in。</p>
<h1 id="04"><a href="#04" class="headerlink" title="04"></a>04</h1><h2 id="Live-Variables-Analysis"><a href="#Live-Variables-Analysis" class="headerlink" title="Live Variables Analysis"></a>Live Variables Analysis</h2><p>may analysis</p>
<p><strong>问题定义</strong>：某程序点p处的变量v，从p开始到exit块的CFG中是否有某条路径用到了v，如果用到了v，则v在p点为live，否则为dead。其中有一个隐含条件，在点p和引用点之间不能重定义v。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200819145537874.png" alt="image-20200819145537874"></p>
<p><strong>应用场景</strong>：可用于寄存器分配，如果寄存器满了，就需要替换掉不会被用到的变量。</p>
<p><strong>抽象表示</strong>：程序中的n个变量用长度为n bit的向量来表示，对应bit为1，则该变量为live，反之为0则为dead。</p>
<h3 id="分析-1"><a href="#分析-1" class="headerlink" title="分析"></a>分析</h3><p><strong>Control Flow</strong>：OUT[B] = US a_successor_of_BIN[S]</p>
<p><strong>理解</strong>：逆向分析，只要有一条子路是live，父节点就是live。</p>
<p><strong>Transfer Function</strong>：IN[B] = useB U (OUT[B] - defB)</p>
<p><strong>理解</strong>：IN[B] = 本块中use出现在define之前的变量 U （OUT[B]出口的live情况 - 本块中出现了define的变量）。define指的是定义/赋值。</p>
<p>IN[B] = useB U (OUT[B] - defB)</p>
<p>IN[B] 其实想看的是哪些变量在进入B之前就已经是live的，那么分为以下两种情况：</p>
<p>第一种是在B中从定义之前就被引用的，useB。</p>
<p>第二种是针对outB来说，逆向分析，如果想知道哪些在进入B之前就是live的，那么就需要从outB中减去那些在B中被重定义的那些，它们就是defB。</p>
<p>两种情况取并集，<strong>先useB，再killB。也就是说先看右边谁用了，再kill左边定义的。</strong></p>
<p><strong>特例分析</strong>：如以下图所示，第4种情况，v=v-1，实际上use出现在define之前，v是使用的。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200820134652089.png" alt="image-20200820134652089"></p>
<h3 id="算法-1"><a href="#算法-1" class="headerlink" title="算法"></a>算法</h3><p><strong>初始化规律</strong>：一般情况下，may analysis 全部初始化为空，must analysis全部初始化为all。</p>
<p><strong>目的</strong>：输入CFG，计算好每个基本块中的defB（重定义）和useB（出现在重定义之前的使用）。输出每个基本块的IN[B]和OUT[B]。</p>
<p><strong>方法</strong>：首先初始化每个基本块的IN[B]为空集。遍历每一个基本块B，按以上两个公式计算块B的OUT[B]和IN[B]，只要这次遍历时有某个块的IN[B]发生变化，则重新遍历一次（因为有循环，只要某块的IN[B]变了，就意味前驱块的OUT[B]变了）。</p>
<p><strong>问题</strong>：遍历基本块的顺序有要求吗？ 没有要求，但是会影响遍历的次数。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200819173409266.png" alt="image-20200819173409266"></p>
<h3 id="例子-1"><a href="#例子-1" class="headerlink" title="例子"></a>例子</h3><p><strong>抽象表示</strong>：程序中的n个变量用长度为n bit的向量来表示，对应bit为1，则该变量为live，反之为0则为dead。</p>
<p><strong>说明</strong>：从下往上遍历基本块，黑色-初始化；红色-第1次；蓝色-第2次；绿色-第3次。</p>
<p><strong>结果</strong>：3次遍历后，IN[B]不再变化，遍历结束。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200819231636245.png" alt="image-20200819231636245"></p>
<h2 id="Available-Expression-Analysis"><a href="#Available-Expression-Analysis" class="headerlink" title="Available Expression Analysis"></a>Available Expression Analysis</h2><p>must analysis</p>
<p><strong>问题定义</strong>：程序点p处的表达式<code>x op y</code>可用需满足2个条件，一是从entry到p点必须经过<code>x op y</code>，二是最后一次使用<code>x op y</code>之后，没有重定义操作数x、y。（如果重定义了x 或 y，如x = <code>a op2 b</code>，则原来的表达式<code>x op y</code>中的x或y就会被替代）。</p>
<p><strong>应用场景</strong>：用于优化，检测全局公共子表达式。</p>
<p><strong>抽象表示</strong>：程序中的n个表达式，用长度为n bit的向量来表示，1表示可用，0表示不可用。</p>
<p><strong>说明</strong>：属于forward前向分析。</p>
<h3 id="分析-2"><a href="#分析-2" class="headerlink" title="分析"></a>分析</h3><p><strong>Transfer Function</strong>：OUT[B] = genB U (IN[B] - killB)</p>
<p><strong>理解</strong>：genB—基本块B中所有新的表达式（并且在这个表达式之后，不能对表达式中出现的变量进行重定义）–&gt;加入到OUT；killB—从IN中删除变量被重新定义的表达式。</p>
<p><strong>Control Flow</strong>：</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200820135804188.png" alt="image-20200820135804188"></p>
<p><strong>理解</strong>：从entry到p点的所有路径都必须经过该表达式。</p>
<p><strong>问题</strong>：该分析为什么属于must analysis呢？因为我们允许有漏报，不能有误报，比如以上示例中，改为x=3，去掉 b=e16*x，该公式会把该表达式识别为不可用。但事实是可用的，因为把x=3替换到表达式中并不影响该表达式的形式。这里虽然漏报了，但是不影响程序分析结果的正确性。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200820135717376.png" alt="image-20200820135717376"></p>
<h3 id="算法-2"><a href="#算法-2" class="headerlink" title="算法"></a>算法</h3><p><strong>目的</strong>：输入CFG，提前计算好genB和killB。</p>
<p><strong>方法</strong>：首先将OUT[entry]初始化为空，所有基本块的OUT[B]<strong>初始化为1…1</strong>。遍历每一个基本块B，按以上两个公式计算块B的IN[B]和OUT[B]，只要这次遍历时有某个块的OUT[B]发生变化，则重新遍历一次（因为有循环，只要某块的OUT[B]变了，就意味后继块的IN[B]变了）。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200820135942083.png" alt="image-20200820135942083"></p>
<h3 id="例子-2"><a href="#例子-2" class="headerlink" title="例子"></a>例子</h3><p><strong>抽象表示</strong>：程序中的n个表达式，用长度为n bit的向量来表示，1表示可用，0表示不可用。</p>
<p><strong>说明</strong>：黑色-初始化；红色-第1次；蓝色-第2次。</p>
<p><strong>结果</strong>：2次遍历后，OUT[B]不再变化，遍历结束。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200820140035092.png" alt="image-20200820140035092"></p>
<h2 id="三种分析方法对比"><a href="#三种分析方法对比" class="headerlink" title="三种分析方法对比"></a>三种分析方法对比</h2><table>
<thead>
<tr>
<th></th>
<th>Reaching Definitions</th>
<th>Live Variables</th>
<th>Available Expressions</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Domain</strong></td>
<td>赋值语句</td>
<td>变量</td>
<td>表达式</td>
</tr>
<tr>
<td><strong>Direction</strong></td>
<td>forward</td>
<td>backward</td>
<td>forward</td>
</tr>
<tr>
<td><strong>May/Must</strong></td>
<td>May</td>
<td>May</td>
<td>Must</td>
</tr>
<tr>
<td><strong>Boundary</strong></td>
<td>OUT[Entry]=<img src="https://math.jianshu.com/math?formula=%5Cphi" alt="\phi"></td>
<td>IN[Exit]=<img src="https://math.jianshu.com/math?formula=%5Cphi" alt="\phi"></td>
<td>OUT[Entry]=<img src="https://math.jianshu.com/math?formula=%5Cphi" alt="\phi"></td>
</tr>
<tr>
<td><strong>Initialization</strong></td>
<td>OUT[B]=<img src="https://math.jianshu.com/math?formula=%5Cphi" alt="\phi"></td>
<td>IN[B]=<img src="https://math.jianshu.com/math?formula=%5Cphi" alt="\phi"></td>
<td>OUT[B]=<img src="https://math.jianshu.com/math?formula=%5Ccap" alt="\cap"></td>
</tr>
<tr>
<td><strong>Transfer function</strong></td>
<td>IN[B]=gen U (IN - kill)</td>
<td>same</td>
<td>same</td>
</tr>
<tr>
<td><strong>Meet</strong></td>
<td>U</td>
<td>U</td>
<td>n</td>
</tr>
</tbody></table>
<p><strong>问题</strong>：怎样判断是May还是Must？</p>
<p>Reaching Definitions表示只要从赋值语句到点p<strong>存在1条路径</strong>，则为reaching，结果不一定正确；</p>
<p>Live Variables表示只要从点p到Exit<strong>存在1条路径</strong>使用了变量v，则为live，结果不一定正确；</p>
<p>Available Expressions表示从Entry到点p的<strong>每一条路径</strong>都经过了该表达式，则为available，结果肯定正确。</p>
<h1 id="05-amp-06"><a href="#05-amp-06" class="headerlink" title="05 &amp; 06"></a>05 &amp; 06</h1><h2 id="迭代算法实质分析"><a href="#迭代算法实质分析" class="headerlink" title="迭代算法实质分析"></a>迭代算法实质分析</h2><h3 id="理论"><a href="#理论" class="headerlink" title="理论"></a>理论</h3><p><strong>本质</strong>：常见的数据流迭代算法，目的是通过迭代计算，最终得到一个稳定的不变的解。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200820144123296.png" alt="image-20200820144123296"></p>
<h3 id="图示"><a href="#图示" class="headerlink" title="图示"></a>图示</h3><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200820153748384.png" alt="image-20200820153748384"></p>
<p><strong>不动点</strong>：当Xi = F(Xi)时，就是不动点。</p>
<p><strong>问题</strong>：</p>
<ul>
<li>迭代算法是否一定会停止（到达不动点）？</li>
<li>迭代算法如果会终止，会得到几个解（几个不动点）？</li>
<li>迭代几次会得到解（到达不动点）？</li>
</ul>
<h2 id="偏序-Partial-Order"><a href="#偏序-Partial-Order" class="headerlink" title="偏序 Partial Order"></a>偏序 Partial Order</h2><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200820154231317.png" alt="image-20200820154231317"></p>
<h2 id="上下界-Upper-and-Lower-Bounds"><a href="#上下界-Upper-and-Lower-Bounds" class="headerlink" title="上下界 Upper and Lower Bounds"></a>上下界 Upper and Lower Bounds</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200820171746662.png" alt="image-20200820171746662"></p>
<p>理解：</p>
<p>S是P的子集，</p>
<p>如果S中所有元素x，都有x≤u，那么就称u是子集S的上界。u属于P，但是u并不一定在S中。</p>
<p>如果S中所有元素x，都有i≤x，那么就称i是子集S的下界。i属于P。</p>
<p>最小上界：lub，上界里最小的那个；</p>
<p>最大下界：glb，下界里最大的那个；</p>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200820185210859.png" alt="image-20200820185210859"></p>
<h3 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h3><p>并非每个偏序集都有上下确界。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200820191836010.png" alt="image-20200820191836010"></p>
<p>如果存在上下确界，则是唯一的。unique</p>
<p>利用传递性和反证法即可证明。</p>
<h2 id="Lattice-格论"><a href="#Lattice-格论" class="headerlink" title="Lattice 格论"></a>Lattice 格论</h2><h3 id="格"><a href="#格" class="headerlink" title="格"></a>格</h3><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200820192420306.png" alt="image-20200820192420306"></p>
<p>理解：</p>
<p>任意两个元素构成的集合都存在最大下界和最小上界，那么这个偏序集就是格。</p>
<h3 id="半格"><a href="#半格" class="headerlink" title="半格"></a>半格</h3><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200820200526298.png" alt="image-20200820200526298"></p>
<h3 id="全格"><a href="#全格" class="headerlink" title="全格"></a>全格</h3><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200820200608864.png" alt="image-20200820200608864"></p>
<p>理解：</p>
<p>全格，任意子集都有最大上界和最小下界。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200820201238630.png" alt="image-20200820201238630"></p>
<h3 id="格点积"><a href="#格点积" class="headerlink" title="格点积"></a>格点积</h3><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200820202412900.png" alt="image-20200820202412900"></p>
<h2 id="数据流分析框架-via-Lattice"><a href="#数据流分析框架-via-Lattice" class="headerlink" title="数据流分析框架 via.Lattice"></a>数据流分析框架 via.Lattice</h2><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200820202545816.png" alt="image-20200820202545816"></p>
<h2 id="单调性与不动点定理（Monotonicity-amp-Fixed-Point-Theorem）"><a href="#单调性与不动点定理（Monotonicity-amp-Fixed-Point-Theorem）" class="headerlink" title="单调性与不动点定理（Monotonicity&amp;Fixed Point Theorem）"></a>单调性与不动点定理（Monotonicity&amp;Fixed Point Theorem）</h2><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200820205630518.png" alt="image-20200820205630518"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200820211018670.png" alt="image-20200820211018670"></p>
<p>证明：</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200820211250368.png" alt="image-20200820211250368"></p>
<p>理解：</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200820215618991.png" alt="image-20200820215618991"></p>
<h2 id="迭代算法转换到不动点理论"><a href="#迭代算法转换到不动点理论" class="headerlink" title="迭代算法转换到不动点理论"></a>迭代算法转换到不动点理论</h2><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200821141953794.png" alt="image-20200821141953794"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200821142006459.png" alt="image-20200821142006459"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200821142307752.png" alt="image-20200821142307752"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200821142322795.png" alt="image-20200821142322795"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200821142331887.png" alt="image-20200821142331887"></p>
<p>第三个问题：</p>
<p>算法何时能够达到不动点？</p>
<p>Lattice高度：是lattice上从<strong>top到bottom之间最长的路径。</strong></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200821144337058.png" alt="image-20200821144337058"></p>
<p>最差的迭代次数：</p>
<p>h x k</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200821145654210.png" alt="image-20200821145654210"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200821145739636.png" alt="image-20200821145739636"></p>
<h2 id="从Lattice角度看may-must分析"><a href="#从Lattice角度看may-must分析" class="headerlink" title="从Lattice角度看may/must分析"></a>从Lattice角度看may/must分析</h2><p>根据如下的图，逐步讲解整个过程：</p>
<p>需要记住的前提：</p>
<p>不论是may-analysis和must-analysis都是从不安全（unsafe result）到安全（safe result）</p>
<p>并且，may-analysis和must-analysis都是从准确（precise）到不准确（un-precise）</p>
<p>注意：现在是在对may/must analysis的算法整体流程分析，从lattice的角度。但是<strong>本身该算法是safe的</strong>——这是由safe-approximate来保证的，而不是通过lattice或者其他保证的。</p>
<h3 id="May-analysis"><a href="#May-analysis" class="headerlink" title="May analysis"></a>May analysis</h3><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200821151356610.png" alt="image-20200821151356610"></p>
<ul>
<li><p>从bottom开始，bottom代表的是<strong>所有定义都是可达的</strong>——这就是不安全的结果（因为验证本质上是一个查错的工具，现在的验证结果是没有任何一个错误，这就是不可靠的）</p>
</li>
<li><p>图中的<strong>no definitions can reach</strong>这个是根据可达性定义的应用来考虑的。可达性定义会应用在变量是否初始化中，它会在entry给每个变量一个假定义，这边的意思就是指所有的假定义都无法到达，那么就意味着程序中会将每个变量都初始化——那么就是该程序无未初始化错误——分析的结果是不安全的</p>
</li>
<li><p>最上面到top，top代表的是<strong>所有定义都是不可达的</strong>——从查错角度来讲，这句话是安全的，因为所有定义都有可能存在错误，但是这句话没有用——程序未验证前，就可以说这句话了——所以是<strong>safe but useless</strong></p>
</li>
<li><p>图中的<strong>all definition may reach</strong>就是指，可达性定义应用中的那些个假定义，都是可达的，那么所有变量都是未初始化的——所有变量都存在未初始化的错误——分析的结果是安全的</p>
</li>
<li><p>中间的truth：</p>
<p>表明最准确的验证结果，假设{a,c}是truth，那么包括其以上的都是safe的，一下的都是unsafe，就是上图的阴影和非阴影。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200821151135955.png" alt="image-20200821151135955"></p>
</li>
<li><p>并且都是从不安全到安全的过程——所以箭头从下向上</p>
</li>
<li><p>从bottom开始，得到的是最小不动点，就是离truth最近的，<strong>是最准确的</strong>。 向上还有多个不动点，但是<strong>准确度越来越不准</strong>（直到top就是最不准的）——may analysis得到的解是最小不动点，就是最优解，是<strong>最准</strong>的那一个。</p>
<p>——所以，可达定义得到的是最准确的结果，虽然还是soundness的（过近似）</p>
</li>
</ul>
<h3 id="Must-analysis"><a href="#Must-analysis" class="headerlink" title="Must analysis"></a>Must analysis</h3><p>前向分析，从上往下，但还是从unsafe到safe。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200821152431420.png" alt="image-20200821152431420"></p>
<p>must analysis以available表达式为例。</p>
<ul>
<li>从top开始，代表所有表达式都是可用的——是最unsafe的——如果是利用在表达式计算优化中，那就是有很多已经被重新定义的表达是也被优化了（实际上不能被优化）——那么该优化就是错误的</li>
<li>到bottom，代表没有表达式是可用的——是安全的，但是是无用的</li>
<li>从top开始到bottom，就是不安全到安全的转变，存在一个truth，代表程序真实的结果；</li>
<li>分析从top到bottom，达到的就是最大不动点，离truth最近，那么该最大不动点得到的解就是最优的——must analysis得到的解是最大不动点，就是最优解</li>
</ul>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200821152451027.png" alt="image-20200821152451027"></p>
<h2 id="MOP-amp-Distributivity"><a href="#MOP-amp-Distributivity" class="headerlink" title="MOP &amp; Distributivity"></a>MOP &amp; Distributivity</h2><p>MOP: Meet-over-all-paths solution </p>
<p>将所有路径都join/meet的方法，通常用来衡量精度。</p>
<p>这里的meet是统称meet和join两种合并操作。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200821160213954.png" alt="image-20200821160213954"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200821160225796.png" alt="image-20200821160225796"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200821162306327.png" alt="image-20200821162306327"></p>
<h3 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h3><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200821163139469.png" alt="image-20200821163139469"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200821164426276.png" alt="image-20200821164426276"></p>
<h2 id="Worklist算法"><a href="#Worklist算法" class="headerlink" title="Worklist算法"></a>Worklist算法</h2><p>是一种优化，更常用</p>
<p>本质：就是将有变化的值挑出来，再去利用转换函数和控制流操作。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200821201839389.png" alt="image-20200821201839389"></p>
<h1 id="07"><a href="#07" class="headerlink" title="07"></a>07</h1><h2 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h2><p><strong>过程内分析</strong>：Intra-procedual Analysis，未考虑函数调用，导致分析不精确。</p>
<p><strong>过程间分析</strong>：Inter-procedural Analysis，考虑函数调用，又称为全程序分析（Whole Program Analysis），需要构建调用图call graph，加入Call edges和Return edges。</p>
<h2 id="Call-Graph-调用图"><a href="#Call-Graph-调用图" class="headerlink" title="Call Graph 调用图"></a>Call Graph 调用图</h2><h2 id="调用图定义"><a href="#调用图定义" class="headerlink" title="调用图定义"></a>调用图定义</h2><p><strong>定义</strong>：本质是调用边的集合，从调用点（call-sites）到目标函数（target methods / callees）的边。</p>
<p><strong>应用</strong>：是所有过程间分析（跨函数分析）的基础，程序优化，程序理解，程序调试。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200822120758965.png" alt="image-20200822120758965"></p>
<h2 id="面向对象语言OOL的调用图构造-Java"><a href="#面向对象语言OOL的调用图构造-Java" class="headerlink" title="面向对象语言OOL的调用图构造 Java"></a>面向对象语言OOL的调用图构造 Java</h2><p><strong>代表性算法</strong>：从上往下精度变高，速度变慢，重点分析第1、4个算法。</p>
<ul>
<li>Class hierarchy analysis(CHA)</li>
<li>Rapid type analysis(RTA)</li>
<li>Variable type analysis(VTA)</li>
<li>Pointer analysis(k-CFA)</li>
</ul>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200822121013626.png" alt="image-20200822121013626"></p>
<p>Java调用分类：</p>
<table>
<thead>
<tr>
<th></th>
<th align="center"><strong>Static call</strong></th>
<th align="center"><strong>Special call</strong></th>
<th align="center"><strong>Virtual call</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>指令</strong></td>
<td align="center">invokestatic</td>
<td align="center">invokespecial</td>
<td align="center">invokeinterface、 invokevirtual</td>
</tr>
<tr>
<td>Receiver objects（返回后赋值的目标对象）</td>
<td align="center">×</td>
<td align="center">✓</td>
<td align="center">✓</td>
</tr>
<tr>
<td><strong>目标函数</strong></td>
<td align="center">Static函数</td>
<td align="center">构造函数、 私有函数、父类的实例函数</td>
<td align="center">其他实例函数</td>
</tr>
<tr>
<td><strong>目标函数个数</strong></td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">≥1 (<strong>polymorphism</strong>多态性)</td>
</tr>
<tr>
<td><strong>何时确定</strong></td>
<td align="center">编译时</td>
<td align="center">编译时</td>
<td align="center">运行时</td>
</tr>
</tbody></table>
<p>理解：</p>
<p>一个virtual call 在程序运行的不同状态时，可能调用到不同的目标方法，具有多态性，运行时确定。</p>
<p>Virtual call 是 构造调用图的实际关键所在。</p>
<p>virtual call在程序运行时才能得到，基于2个要素得到：</p>
<ol>
<li><p>reciever object的具体类型：<strong>c</strong></p>
</li>
<li><p>调用点的函数签名：<strong>m</strong>。（通过signature可以唯一确定一个函数）</p>
<ol>
<li>signature = 函数所在的类 + 函数名 + 描述符</li>
<li>描述符 = 返回类型 + 参数类型</li>
</ol>
<p>简记为C.foo(P, Q, R)</p>
</li>
</ol>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200822205645298.png" alt="image-20200822205645298"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200822205652596.png" alt="image-20200822205652596"></p>
<h2 id="Method-Dispatch（Virtual-call）"><a href="#Method-Dispatch（Virtual-call）" class="headerlink" title="Method Dispatch（Virtual call）"></a>Method Dispatch（Virtual call）</h2><p><strong>定义</strong>：用Dispatch(c, m)来模拟动态Method Dispatch过程，c表示reciever object，m表示函数签名。</p>
<p><strong>解释</strong>：若该类的非抽象方法（实际可执行的函数主体）中包含和m相同<strong>名字</strong>、传递/返回<strong>参数</strong>的m‘，则直接返回；否则到c的<strong>父类</strong>中找。</p>
<p><strong>示例</strong>：</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200822210617432.png" alt="image-20200822210617432"></p>
<p>理解：</p>
<p>Dispatch（B,A.foo()）先对B类自己进行，但是B没有foo方法，向上找父类A才有。</p>
<p>Dispatch（C,A.foo()）C自己本身就有，那么就是C自己的父方法。</p>
<h2 id="Class-Hierarchy-Analysis-CHA-类层次分析"><a href="#Class-Hierarchy-Analysis-CHA-类层次分析" class="headerlink" title="Class Hierarchy Analysis CHA  类层次分析"></a>Class Hierarchy Analysis CHA  类层次分析</h2><p><strong>目的</strong>：根据每个virtual call 的 receiver varible 的<strong>声明类型</strong>来求解所有可能调用的目标函数。如 <code>A a = ... ;</code>  <code>a.foo();</code> 这个a就是receiver varible，声明类型就是A。</p>
<p>CHA假定a可以指向A以及A<strong>所有子类对象</strong>，CHA的过程就是从A和子类中去找目标函数。</p>
<p><strong>算法</strong>：Resolve(cs)——利用CHA算法找到调用点所有可能的调用目标。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200822214448736.png" alt="image-20200822214448736"></p>
<p><strong>示例</strong>：</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200822214519895.png" alt="image-20200822214519895"></p>
<p><strong>算法应用</strong>：</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200822215953297.png" alt="image-20200822215953297"></p>
<p>理解：</p>
<p>第三个b.foo（）</p>
<p>算法里面说是对b和b的所有子类进行dispatch：</p>
<ol>
<li>b自己：没有 向上找父类 父类是A 那么就是A.foo()</li>
<li>b所有子类：C和D 那么就是C.foo()和D.foo()</li>
</ol>
<p>以上b.foo()的调用目标 C.foo()和D.foo()是错误，理论上是假的，因为<strong>已经指定了是B类型</strong>，所以b.foo()根本不会调用C、D的foo()。因为CHA只考虑声明类型，也就是B，导致准确度下降。多态性就是说，父类可以引用子类的对象，如<code>B b=new C()</code>。</p>
<p><strong>优缺点</strong>：CHA优点是速度快，只考虑声明类型，忽略数据流和控制流；缺点是准确度低。</p>
<p><strong>总结</strong>：本类中有同名函数就在本类和子类找，没有就从父类找，接着找父类的子类中的同名函数（CHA分析）。</p>
<h2 id="利用CHA生成整个程序的调用图"><a href="#利用CHA生成整个程序的调用图" class="headerlink" title="利用CHA生成整个程序的调用图"></a>利用CHA生成整个程序的调用图</h2><p><strong>思想</strong>：遍历每个函数中的每个调用指令，调用CHA的Resolve()找到对应的目标函数和调用边，函数+调用边=调用图。</p>
<p><strong>步骤</strong>：</p>
<ol>
<li>从main方法开始，作为入口方法。</li>
<li>对于每个可达方法m，求Resolve（cs）。</li>
<li>不断重复，直到没有新的方法，全遍历。</li>
</ol>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200823095125945.png" alt="image-20200823095125945"></p>
<p><strong>算法</strong>：</p>
<p>m_entry=程序的入口方法</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200823102314573.png" alt="image-20200823102314573"></p>
<p><strong>示例</strong>：</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200823105551301.png" alt="image-20200823105551301"></p>
<p>理解：</p>
<p>首先WL集合就是待处理方法，一开始WL里面就是A.main()。</p>
<p>浅色块是call site，深色块是自己类中的方法。</p>
<p>首先把main方法取出来，Resolve解它，是静态方法，只有他自己，那么连上一条调用边，目标方法A.foo()加入到WL中。</p>
<p>接着处理A.foo()方法，它里面有一个new a.bar()，那么a.bar()的目标方法就是A，B，C三个bar方法，三条边，并且这三个方法都加入到worklist里面。</p>
<p>再取A.bar()，它的目标方法就是C.bar()，也要正常加入WL里面。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200823110808268.png" alt="image-20200823110808268"></p>
<p>接着是B.bar()，那么就是啥也不做。</p>
<p>最后一个是C.bar()，同样调用A.foo()，加边。</p>
<p>跳过最后的C.foo，A.foo。</p>
<h2 id="过程间控制流分析图-Interprocedural-Control-Flow-Graph-ICFG"><a href="#过程间控制流分析图-Interprocedural-Control-Flow-Graph-ICFG" class="headerlink" title="过程间控制流分析图 Interprocedural Control-Flow Graph ICFG"></a>过程间控制流分析图 Interprocedural Control-Flow Graph ICFG</h2><p><strong>定义</strong>：过程间控制流图ICFG = 各个方法自己的CFG + (Call edges + Return edges)。</p>
<ul>
<li>Call edges：连接调用点和目标函数入口</li>
<li>Return edges：从return语句连到Return site（Call site后面一条语句）</li>
</ul>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200823112520799.png" alt="image-20200823112520799"></p>
<p><strong>说明</strong>：对ICFG进行数据流分析，没有标准的一套算法。</p>
<p><strong>对比</strong>：</p>
<table>
<thead>
<tr>
<th></th>
<th><strong>Intra</strong>procedural</th>
<th><strong>Inter</strong>procecdural</th>
</tr>
</thead>
<tbody><tr>
<td><strong>程序表示</strong></td>
<td>CFG</td>
<td>ICFG = CFGs + call &amp; return edges</td>
</tr>
<tr>
<td><strong>转换规则</strong></td>
<td>Node transfer</td>
<td>Node transfer + edge transfer</td>
</tr>
</tbody></table>
<p><strong>常量传播数据流分析</strong>：</p>
<ul>
<li>Node transfer：与过程内分析相同，对每个调用点，将等号左边部分kill掉。</li>
<li>Call edge transfer：传参</li>
<li>Return edge transfer：传返回值</li>
</ul>
<p><strong>常量传播示例</strong>：</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200823121139273.png" alt="image-20200823121139273"></p>
<p>理解：</p>
<p>首先也是从main方法开始，黄色代表in-flow，蓝色代表out-flow。</p>
<p>call的时候kill掉左手边变量，直接flow过去，就算有值也是return过来的。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200823121556416.png" alt="image-20200823121556416"></p>
<p><strong>说明</strong>：黄色背景边必须有，从<code>b = addOne(a)</code>到<code>c=b-3</code>，a通过此边传递，b通过addOne()传递。若a也通过addOne()传递，会额外消耗系统资源。</p>
<h1 id="08-amp-09"><a href="#08-amp-09" class="headerlink" title="08 &amp; 09"></a>08 &amp; 09</h1><p>终于来到了指针分析</p>
<p><strong>指针分析必要性</strong>：</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200823152109890.png" alt="image-20200823152109890"></p>
<h2 id="指针分析"><a href="#指针分析" class="headerlink" title="指针分析"></a>指针分析</h2><p><strong>目标</strong>：分析程序指针可以指向哪些内存区域。对于Java等面向对象语言，主要分析指针指向哪个对象。</p>
<p><strong>说明</strong>：指针分析属于may analysis，分析的结果是某指针所有可能指向哪些对象Object，是个over-approximation集合。</p>
<p><strong>示例</strong>：面向对象语言中的指针指向问题。对于setB()函数，this指向<code>new A()</code>，因为是调用者是a.setB()；setB()中的b是x传过来的，所以b指向new B()，A.b指向 new B()。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200823153545185.png" alt="image-20200823153545185"></p>
<p><strong>区别</strong>：</p>
<ul>
<li>指针分析：分析指针所有可能指向的对象。</li>
<li>别名分析：分析两个指针是否指向相同的对象，可通过指针分析来推导得到。如果指向同一个对象，那么就是别名关系。</li>
</ul>
<p><strong>应用</strong>：基本信息（别名分析/调用图），编译优化（嵌入虚拟调用），漏洞（空指针），安全分析（信息流）。</p>
<h2 id="指针分析影响因素"><a href="#指针分析影响因素" class="headerlink" title="指针分析影响因素"></a>指针分析影响因素</h2><p><strong>指标</strong>：精度（precision）&amp; 效率（efficiency）。</p>
<p><strong>影响因素</strong>：本课程，我们主要分析分配点的堆抽象技术、上下文敏感/不敏感、流不敏感、全程序分析。</p>
<table>
<thead>
<tr>
<th>因素</th>
<th>问题</th>
<th>选项</th>
</tr>
</thead>
<tbody><tr>
<td>Heap abstraction</td>
<td>如何建模堆内存？</td>
<td>• <strong>Allocation-site</strong>        • Storeless</td>
</tr>
<tr>
<td>Context sensitivity</td>
<td>如何建模调用上下文？</td>
<td>• <strong>Context-sensitive</strong>     • <strong>Context-insensitive</strong></td>
</tr>
<tr>
<td>Flow sensitivity</td>
<td>如何建模控制流？</td>
<td>• Flow-sensitive     • <strong>Flow-insensitive</strong></td>
</tr>
<tr>
<td>Analysis scope</td>
<td>分析哪部分程序？</td>
<td>• <strong>Whole-program</strong>    • Demand-driven</td>
</tr>
</tbody></table>
<h3 id="堆抽象-Allocation-Site（内存建模）"><a href="#堆抽象-Allocation-Site（内存建模）" class="headerlink" title="堆抽象 Allocation Site（内存建模）"></a>堆抽象 Allocation Site（内存建模）</h3><p><strong>问题</strong>：程序动态执行时，堆对象个数理论上是无穷无尽的，但静态分析无法处理这个问题。所以为保证指针分析可以终止，我们采用堆抽象技术，将无穷的具体对象抽象成有限的抽象对象。也即，将有共性的对象抽象成1个静态对象，从而限制静态分析对象的个数。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200823160046190.png" alt="image-20200823160046190"></p>
<p>我们只学习<code>Allocation-Site</code>技术，最常见也最常被使用。</p>
<p><strong><code>Allocation-Site</code>原理</strong>：将动态对象抽象成它们的创建点（<code>Allocation-Site</code>），来表示在该点创建的所有动态对象。<code>Allocation-Site</code>个数是有限的。</p>
<p><strong>示例</strong>：循环创建了3个对象，我们用O2来抽象表示这3个动态对象。几个new就会合并处理几个。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200823160313045.png" alt="image-20200823160313045"></p>
<h3 id="上下文敏感Context-Sensitivity"><a href="#上下文敏感Context-Sensitivity" class="headerlink" title="上下文敏感Context Sensitivity"></a>上下文敏感Context Sensitivity</h3><p><strong>问题</strong>：考虑是否区分不同call-site对同一函数的调用。</p>
<ul>
<li>Context-sensitive：根据某函数调用上下文的不同，多次分析同一函数。</li>
<li>Context-insensitive：每个函数只分析一次。</li>
</ul>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200823161014112.png" alt="image-20200823161014112"></p>
<h3 id="流敏感-Flow-Sensitivity-控制流建模"><a href="#流敏感-Flow-Sensitivity-控制流建模" class="headerlink" title="流敏感 Flow Sensitivity 控制流建模"></a>流敏感 Flow Sensitivity 控制流建模</h3><p><strong>问题</strong>：考虑语句顺序（控制流）的影响  vs 把程序当做无序语句的集合。</p>
<p><strong>方法</strong>：流敏感会在每个程序点都保存一份<strong>指针指向关系映射表</strong>，而流不敏感则对整个程序保存一份指向关系映射。</p>
<p><strong>说明</strong>：目前流敏感对Java提升不大，不过在C中很有效，本课程分析的是Java，所以重点讨论流不敏感技术。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200823161210004.png" alt="image-20200823161210004"></p>
<p><strong>指针分析示例</strong>：</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200823164736418.png" alt="image-20200823164736418"></p>
<h3 id="分析范围-Analysis-Scope"><a href="#分析范围-Analysis-Scope" class="headerlink" title="分析范围 Analysis Scope"></a>分析范围 Analysis Scope</h3><p><strong>问题</strong>：分析程序的哪一部分？</p>
<ul>
<li>Whole-program 全程序：分析全程序的指向关系。</li>
<li>Demand-driven 需求驱动：只分析影响特定域的指针的指向关系。</li>
</ul>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200823164722791.png" alt="image-20200823164722791"></p>
<h2 id="分析语句种类"><a href="#分析语句种类" class="headerlink" title="分析语句种类"></a>分析语句种类</h2><p><strong>问题</strong>：哪些语句会影响指针指向，那就只分析这些语句。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200823170535943.png" alt="image-20200823170535943"></p>
<p><strong>Java指针类型</strong>：</p>
<ol>
<li><strong>Lacal variable: x</strong></li>
<li>Static field:C.f   （有时称为全局变量）——不分析</li>
<li><strong>Instance field: x.f</strong>    （对象的field）</li>
<li>Array element: array[i]  ——不分析，因为静态分析无法确定下标，所以将array中所有成员映射到一个field中，等价于<strong>Instance field</strong>，所以不重复分析。如下图所示：</li>
</ol>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200823170722727.png" alt="image-20200823170722727"></p>
<p><strong>影响指针指向的语句</strong>：</p>
<ol>
<li>New:      x = new T()</li>
<li>Assign：x = y</li>
<li>Store：  x.f = y</li>
<li>Load：   y = x.f</li>
<li>Call：     r = x.k(a,…)<ul>
<li>Static call：    C.foo()</li>
<li>Special call： super.foo() / x.<init>() / this.privateFoo()</init></li>
<li><strong>Virtual call</strong>：x.foo()</li>
</ul>
</li>
</ol>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200823171047905.png" alt="image-20200823171047905"></p>
<h2 id="指针分析规则"><a href="#指针分析规则" class="headerlink" title="指针分析规则"></a>指针分析规则</h2><p><strong>首先分析前4种语句</strong>：New / Assign / Store / Load。</p>
<p><strong>指针分析的域和相应的记法</strong>：变量/函数/对象/实例域/指针，用pt表示程序中的指向关系（映射）。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200823222852548.png" alt="image-20200823222852548"></p>
<p>理解：</p>
<p>指针Pointers，指的就是两部分：</p>
<ol>
<li>程序内部所有变量V</li>
<li>实例对象的属性域O X F</li>
</ol>
<p>这里面P(O)指的是对象的幂集；</p>
<p>pt(p)表示p点的指针集。</p>
<p>这里可以把Points-to relations理解为Map就是映射，Key就是指针，Value就是指针指针集。</p>
<p><strong>规则</strong>：采用推导形式，横线上面是条件，横线下面是结论。</p>
<ul>
<li>New：创建对象，将<code>new T()</code>对应的对象oi加入到x的指针集。</li>
<li>Assign：将y的指针集加入到x对应的指针集。</li>
<li>Store：让oi的field指向oj。</li>
<li>Load：Store的反操作。</li>
</ul>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824003804482.png" alt="image-20200824003804482"></p>
<h2 id="指针分析实现方式"><a href="#指针分析实现方式" class="headerlink" title="指针分析实现方式"></a>指针分析实现方式</h2><p><strong>算法要求</strong>：全程序指针分析，要容易理解和实现。</p>
<p><strong>本质</strong>：在指针（变量/域）之间传递指向信息。Andersen-style分析（很普遍）——很多solving system把指针分析看作是一种包含关系，eg，<code>x = y</code>，x包含y。</p>
<p><strong>问题</strong>：当一个指针的指向集发生变化，必须更新与它相关的其他指针。如何表示这种传递关系？答案PFG。</p>
<p><strong>PFG</strong>：用指针流图PFG来表示指针之间的关系，PFG是<strong>有向图</strong>。</p>
<ul>
<li>Nodes：Pointer = V U (O x F)    节点n表示一个变量或抽象对象的域。</li>
<li>Edges：Pointer X Pointer   边x -&gt; y 表示指针x指向的对象may会流入指针y。</li>
</ul>
<p><strong>Edges添加规则</strong>：根据程序语句 + 对应的规则。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824132635446.png" alt="image-20200824132635446"></p>
<p><strong>示例</strong>：</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824135220028.png" alt="image-20200824135220028"></p>
<p><strong>指针分析PTA方法</strong>：</p>
<ol>
<li>构造PFG，PFG也受指向关系的影响。</li>
<li>根据PFG传播指向信息。</li>
</ol>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824135336802.png" alt="image-20200824135336802"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824135532341.png" alt="image-20200824135532341"></p>
<h2 id="指针分析算法"><a href="#指针分析算法" class="headerlink" title="指针分析算法"></a>指针分析算法</h2><h3 id="过程内PTA算法"><a href="#过程内PTA算法" class="headerlink" title="过程内PTA算法"></a>过程内PTA算法</h3><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824140017899.png" alt="image-20200824140017899"></p>
<p><strong>符号</strong>：</p>
<ul>
<li>S：程序语句的集合。</li>
<li>WL：Work list，待合并的指针信息，二元组的集合，<strong>&lt;指针n，指向的对象集合pts&gt;</strong>。pts将被加入到n的指向集pt(n)中。</li>
<li>PFG：指针流图，边的集合。</li>
</ul>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824140118428.png" alt="image-20200824140118428"></p>
<p>理解：</p>
<p>强化一下AddEdge算法：</p>
<p>AddEdge(s，t)的意思就是如果PFG里面没有，那么就新增一条s-&gt;t的边，</p>
<p>接下来不要忘了指向信息的传播，如果s的指针集里面还有东西，那么也要吧s指针集里面的东西让t也能指到。也就是新增&lt;t,pt(s)&gt;到WorkList集合里面。</p>
<p>强化理解一下Propagate算法：</p>
<p>如果pts不是空集，那么就是把增量加入到ptn。</p>
<p>接下来还要把新的指针集都改了，继续传播下去。</p>
<p>取出所有的n指向的边，也就是n的后继s，将&lt;s,pts&gt;加入到WL中，这里其实就是将指向信息传递给同名指针。</p>
<h3 id="例子-3"><a href="#例子-3" class="headerlink" title="例子"></a>例子</h3><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824151533801.png" alt="image-20200824151533801"></p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">WL</th>
<th align="center">正处理</th>
<th align="center">PFG</th>
<th>指针集</th>
<th>处理语句</th>
<th>算法语句</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">[&lt;b, {o1}&gt;, &lt;c, {o3}&gt;]</td>
<td align="center"></td>
<td align="center"></td>
<td></td>
<td>1，3</td>
<td>处理New</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">[&lt;b, {o1}&gt;, &lt;c, {o3}&gt;]</td>
<td align="center"></td>
<td align="center">a &lt;- b；d &lt;- c；</td>
<td></td>
<td>2，4</td>
<td>处理Assign</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">[&lt;c, {o3}&gt;]</td>
<td align="center">&lt;b, {o1}&gt;</td>
<td align="center">a &lt;- b；d &lt;- c；</td>
<td>pt(b)={o1}</td>
<td></td>
<td>while开头</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">[&lt;c, {o3}&gt;], &lt;a, {o1}&gt;]</td>
<td align="center"></td>
<td align="center">a &lt;- b；d &lt;- c；</td>
<td></td>
<td></td>
<td>Propagate()传递，没有b.f语句</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">[&lt;a, {o1}&gt;]</td>
<td align="center">&lt;c, {o3}&gt;</td>
<td align="center">a &lt;- b；d &lt;- c；</td>
<td>pt(c)={o3}</td>
<td></td>
<td>while开头</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">[&lt;a, {o1}&gt;, &lt;d, {o3}&gt;]</td>
<td align="center"></td>
<td align="center">a &lt;- b；d &lt;- c；</td>
<td></td>
<td></td>
<td>Propagate()传递，有c.f语句</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">[&lt;a, {o1}&gt;, &lt;d, {o3}&gt;]</td>
<td align="center"></td>
<td align="center">a &lt;- b；d &lt;- c；o3.f &lt;- a；o3.f &lt;- d；<img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824151918157.png" alt="image-20200824151918157"></td>
<td></td>
<td>4，6</td>
<td>处理Store/Load，添加边</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">[&lt;d, {o3}&gt;]</td>
<td align="center">&lt;a, {o1}&gt;</td>
<td align="center"></td>
<td>pt(a)={o1}；</td>
<td></td>
<td>while开头</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">[&lt;d, {o3}&gt;,&lt;o3.f, {o1}&gt;]</td>
<td align="center"></td>
<td align="center"><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824152807239.png" alt="image-20200824152807239"></td>
<td></td>
<td></td>
<td>Propagate()传递</td>
</tr>
<tr>
<td align="center">10</td>
<td align="center">[&lt;o3.f, {o1}&gt;]</td>
<td align="center">&lt;d, {o3}&gt;</td>
<td align="center"></td>
<td>pt(d)={o3}</td>
<td></td>
<td>while开头</td>
</tr>
<tr>
<td align="center">11</td>
<td align="center">[&lt;o3.f, {o1}&gt;, &lt;o3.f, {o3}&gt;]</td>
<td align="center"></td>
<td align="center"><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824152953917.png" alt="image-20200824152953917"></td>
<td></td>
<td></td>
<td>Propagate()传递，有d.f语句</td>
</tr>
<tr>
<td align="center">12</td>
<td align="center">[&lt;o3.f, {o1}&gt;, &lt;o3.f, {o3}&gt;]</td>
<td align="center"></td>
<td align="center">a&lt;-b；d&lt;-c；o3.f&lt;-a；o3.f&lt;-d；e&lt;-o3.f；<img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824153253589.png" alt="image-20200824153253589"></td>
<td></td>
<td>7</td>
<td>处理Load，添加边</td>
</tr>
<tr>
<td align="center">13</td>
<td align="center">[&lt;o3.f, {o3}&gt;]</td>
<td align="center">&lt;o3.f, {o1}&gt;</td>
<td align="center"></td>
<td>pt(o3.f)={o1}；</td>
<td></td>
<td>while开头</td>
</tr>
<tr>
<td align="center">14</td>
<td align="center">[&lt;o3.f, {o3}&gt;, &lt;e, {o1}&gt;]</td>
<td align="center"></td>
<td align="center"><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824153518243.png" alt="image-20200824153518243"></td>
<td></td>
<td></td>
<td>Propagate()传递</td>
</tr>
<tr>
<td align="center">15</td>
<td align="center">[&lt;e, {o1}&gt;]</td>
<td align="center">&lt;o3.f, {o3}&gt;</td>
<td align="center"></td>
<td>pt(o3.f)={o1, o3}</td>
<td></td>
<td>while开头</td>
</tr>
<tr>
<td align="center">16</td>
<td align="center">[&lt;e, {o1}&gt;, &lt;e, {o3}&gt;]</td>
<td align="center"></td>
<td align="center"><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824153533320.png" alt="image-20200824153533320"></td>
<td></td>
<td></td>
<td>Propagate()传递</td>
</tr>
<tr>
<td align="center">17</td>
<td align="center"></td>
<td align="center">&lt;e, {o1}&gt;；&lt;e, {o3}&gt;</td>
<td align="center"><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824153621112.png" alt="image-20200824153621112"></td>
<td>pt(e)={o1, o3}</td>
<td></td>
<td>while开头</td>
</tr>
</tbody></table>
<hr>
<h1 id="10"><a href="#10" class="headerlink" title="10"></a>10</h1><h2 id="指针分析处理函数调用"><a href="#指针分析处理函数调用" class="headerlink" title="指针分析处理函数调用"></a>指针分析处理函数调用</h2><p><strong>构造调用图技术对比</strong>：</p>
<ul>
<li>CHA：基于声明类型，不精确，引入错误的调用边和指针关系。</li>
<li>指针分析：基于pt(a)，即a指向的类型，更精确，构造更准的CG并对指针分析有正反馈（所以过程间指针分析和CG构造同时进行，很复杂）。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">foo</span><span class="params">(A a)</span> </span>&#123;   </span><br><span class="line">  <span class="comment">// pt(a) = ???</span></span><br><span class="line">  ...</span><br><span class="line">    b = a.bar();    </span><br><span class="line">  <span class="comment">// pt(b) = ???  把a的指向分析清楚了，就能确定a.bar()到底调用哪个对象的bar()函数，那么b的指向也明确了。</span></span><br><span class="line">    ... </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Call调用语句规则"><a href="#Call调用语句规则" class="headerlink" title="Call调用语句规则"></a>Call调用语句规则</h3><p><strong>call语句规则</strong>：主要分为4步。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824215741366.png" alt="image-20200824215741366"></p>
<ol>
<li><strong>找目标函数m</strong>：Dispatch(oi, k)——找出pt(x)，也即oi类型对象中的k函数。</li>
<li><strong>receiver object</strong>：把x指向的对象（<code>pt(x)</code>）传到m函数的this变量，即mthis</li>
<li><strong>传参数</strong>：pt(aj), 1&lt;=j&lt;=n  传给m函数，即p(mpj), 1&lt;=j&lt;=n。<strong>建立PFG边</strong>，a1-&gt;mp1，…，an-&gt;mpn。</li>
<li><strong>传返回值</strong>：pt(mret)传给pt(r)。<strong>建立PFG边</strong>，r &lt;- mret。</li>
</ol>
<p><strong>问题</strong>：为什么PFG中不添加x-&gt;mthis边？因为mthis只和自己这个对象相关，而可能有pt(x)={new A, new B, new C}，指定对象的x只流向对应的对象，是无法跨对象传递的。</p>
<h3 id="过程间PTA算法"><a href="#过程间PTA算法" class="headerlink" title="过程间PTA算法"></a>过程间PTA算法</h3><p><strong>问题</strong>：由于指针分析和CG调用图的构造互相依赖，所以每次迭代只分析可达的函数和语句。然后不断发现和分析新的可达函数。</p>
<p><strong>方法</strong>：“一起做”。从main入口开始做，开始建边，分析可达性方法，不断挖掘。</p>
<p><strong>可达示例</strong>：</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824220851231.png" alt="image-20200824220851231"></p>
<p><strong>算法</strong>：</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824221040655.png" alt="image-20200824221040655"></p>
<p><strong>符号</strong>：</p>
<ul>
<li>m_entry：入口main函数</li>
<li>Sm：函数m中的语句</li>
<li>S：可达语句的集合（就是RM中的语句）</li>
<li>RM：可达函数的集合</li>
<li>CG：调用图的边</li>
</ul>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824221625840.png" alt="image-20200824221625840"></p>
<p>理解：</p>
<ol>
<li><p>AddReachable就是拓展世界的函数，两处调用：</p>
<ol>
<li>程序入口点；</li>
<li>新的调用边被发现；</li>
</ol>
<p>在新方法加入之后，先<strong>只看new和assign赋值语句</strong>，因为load和store是随着改变而改变，先研究也没有意义。</p>
</li>
<li><p>ProcessCall里面，l就是call site，m就是解出来的目标方法。</p>
</li>
<li><p><strong>问题</strong>：为什么ProcessCall(x, oi)中，要判断<code>L-&gt;m</code>这条边是否已经加入到CG？因为x可能指向多个对象，就会多次处理L这个调用指令，可能x中别的对象oj早就已经将这条边加入进去了。</p>
</li>
</ol>
<h3 id="例子-4"><a href="#例子-4" class="headerlink" title="例子"></a>例子</h3><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824225530096.png" alt="image-20200824225530096"></p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">WL</th>
<th align="center">正处理</th>
<th align="center">PFG</th>
<th align="center">指针集</th>
<th align="center">RM</th>
<th align="center">CG</th>
<th align="center">语句</th>
<th>算法语句</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">[]</td>
<td align="center"></td>
<td align="center">{}</td>
<td align="center"></td>
<td align="center">{}</td>
<td align="center">{}</td>
<td align="center"></td>
<td>初始化</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">[]</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">{A.main()}</td>
<td align="center"></td>
<td align="center">1，2</td>
<td>AddReachable(mentry)</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">[&lt;a,{o3}&gt;, &lt;b,{o4}&gt;]</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">3，4</td>
<td></td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">[&lt;b,{o4}&gt;]</td>
<td align="center">&lt;a,{o3}&gt;</td>
<td align="center"></td>
<td align="center">pt(a)={o3}；</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td>while开头</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">[]</td>
<td align="center">&lt;b,{o4}&gt;</td>
<td align="center"></td>
<td align="center">pt(b)={o4}</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td>while开头</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">[]</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">5</td>
<td>ProcessCall(b, o4)</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">[&lt;B.foo/this, {o4}&gt;]</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">{5-&gt;B.foo(A)}</td>
<td align="center"></td>
<td>m=Dispatch(o4, foo())=B.foo()；添加到调用图</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">[&lt;B.foo/this, {o4}&gt;, &lt;r, o11&gt;]</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">{A.main(), B.foo()}</td>
<td align="center"></td>
<td align="center"></td>
<td>AddReachable(B.foo())；添加到可达函数</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">[&lt;B.foo/this, {o4}&gt;, &lt;r, o11&gt;, &lt;y, {o3}&gt;]</td>
<td align="center"></td>
<td align="center"><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824231337322.png" alt="image-20200824231337322"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td>AddEdge()；添加参数边、返回值边</td>
</tr>
<tr>
<td align="center">10</td>
<td align="center">[&lt;r, o11&gt;, &lt;y, {o3}&gt;]</td>
<td align="center">&lt;B.foo/this, {o4}&gt;</td>
<td align="center"></td>
<td align="center">pt(B.foo/this)={o4}；</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td>while开头，B.foo/this没有调用任何函数</td>
</tr>
<tr>
<td align="center">11</td>
<td align="center">[&lt;y, {o3}&gt;, &lt;c, {o11}&gt;]</td>
<td align="center">&lt;r, o11&gt;</td>
<td align="center"></td>
<td align="center">pt(r)={o11}；</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td>while开头</td>
</tr>
<tr>
<td align="center">12</td>
<td align="center"></td>
<td align="center">&lt;y, {o3}&gt;, &lt;c, {o11}&gt;</td>
<td align="center"></td>
<td align="center">pt(y)={o3}；pt(c)={o11}</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td>while开头</td>
</tr>
</tbody></table>
<p>如果是CHA的话，CG={5-&gt;B.foo(A), <strong>5-&gt;A.foo(A)</strong>}，错误识别为调用边。</p>
<p><strong>结果</strong>：</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200824231630468.png" alt="image-20200824231630468"></p>
<p><strong>问题</strong>：没有入口函数的？如对库函数处理，生成调用库函数的程序。</p>
<h1 id="11"><a href="#11" class="headerlink" title="11"></a>11</h1><h2 id="上下文不敏感分析"><a href="#上下文不敏感分析" class="headerlink" title="上下文不敏感分析"></a>上下文不敏感分析</h2><p><strong>说明</strong>：上下文敏感分析是对指针分析的准确性提升最有效的技术。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200825134216437.png" alt="image-20200825134216437"></p>
<p><strong>问题</strong>：上下文不敏感时，分析常量传播这个问题，由于没有明确调用id()的上下文，会把不同的调用混合在一起，对id函数内的变量n只有一种表示（<strong>没有对局部变量进行区分</strong>），导致n指向的对象集合增大，将i识别为非常量NAC。实际上，x.get()的值只来自于One()对象，i应该是常量1。</p>
<p><strong>解决</strong>：根据调用的上下文（主要有3种：如根据调用点所在的行数——call-site sensitivity）来区分局部变量。</p>
<h2 id="上下文敏感分析"><a href="#上下文敏感分析" class="headerlink" title="上下文敏感分析"></a>上下文敏感分析</h2><p><strong>概念</strong>：</p>
<ul>
<li>call-site sensitivity (call-string)：根据<strong>调用点位置</strong>的不同来区分上下文，<code>3：id(n1)</code> / <code>4：id(n2)</code>。</li>
<li>Cloning-Based Context Sensitivity：每种上下文对应一个节点，标记调用者行数。克隆多少数据，后面会讨论。</li>
<li>Context-Sensitive Heap：面向对象程序（如Java）会频繁修改堆对象，称为heap-insensitive。所以不仅要给变量加上下文，也要给堆抽象加上下文，称为heap context（本课程是基于allocate-site来进行堆抽象的）。</li>
</ul>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200825135441351.png" alt="image-20200825135441351"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200825141714234.png" alt="image-20200825141714234"></p>
<p><strong>堆抽象上下文示例</strong>：</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200825164309086.png" alt="image-20200825164309086"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200825165114916.png" alt="image-20200825165114916"></p>
<p><strong>堆抽象上下文不敏感</strong>：如果不区分<code>8 X x = new X();</code>调用的堆抽象的上下文，导致只有1个o8.f，把两个上下文调用产生的o8.f指向集合都合并了，得出了o8.f的错误指向的结果。</p>
<p><strong>堆抽象上下文敏感</strong>：用不同的调用者来区分堆抽象，如<code>3:o8</code>、<code>4:o8</code>是不同的堆抽象。所以说，既要根据上下文的不同来区分局部变量，也要区分堆抽象，例如：<code>3:p</code>是给变量加上下文，<code>3:o8</code>是给堆抽象加上下文。</p>
<p><strong>规则</strong>：谁敏感谁加行号区分，行号其实就是上下文环境。</p>
<h2 id="上下文敏感指针分析：规则"><a href="#上下文敏感指针分析：规则" class="headerlink" title="上下文敏感指针分析：规则"></a>上下文敏感指针分析：规则</h2><p><strong>标记</strong>：根据调用者的行数来区分不同上下文，只要区分了函数、变量、堆对象，就能够区分实例域、上下文敏感的指针（变量+对象域）。C—上下文（暂时用调用点的行数表示），O—对象，F—对象中的域。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200825165457684.png" alt="image-20200825165457684"></p>
<p><strong>基本规则</strong>：跟之前区别不大，只是增加了个上下文标记，有细微区别。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200825170905512.png" alt="image-20200825170905512"></p>
<p>很经典的一张图，值得细细品味。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200825170932518.png" alt="image-20200825170932518"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200825173755842.png" alt="image-20200825173755842"></p>
<h2 id="Context-Sensitive-Pointer-Analysis：Algorithms"><a href="#Context-Sensitive-Pointer-Analysis：Algorithms" class="headerlink" title="Context Sensitive Pointer Analysis：Algorithms"></a>Context Sensitive Pointer Analysis：Algorithms</h2><p><strong>区别</strong>：和过程间指针分析相比，仍然分为两个过程，分别是构造PFG和根据PFG传递指向信息。主要区别是添加了上下文。</p>
<p><strong>PFG构造</strong>：边添加规则和之前一样，Assign、Store、Load、Call，Call需要加参数传递、返回值传递的边。</p>
<p><strong>符号</strong>：</p>
<ul>
<li>S：可达语句的集合（就是RM中的语句）</li>
<li>Sm：函数m中的语句</li>
<li>RM：可达函数的集合</li>
<li>CG：调用图的边</li>
</ul>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200825211520919.png" alt="image-20200825211520919"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200825212747860.png" alt="image-20200825212747860"></p>
<h2 id="Context-Sensitivity-Variants-上下文Select函数选取规则"><a href="#Context-Sensitivity-Variants-上下文Select函数选取规则" class="headerlink" title="Context Sensitivity Variants 上下文Select函数选取规则"></a>Context Sensitivity Variants 上下文Select函数选取规则</h2><p><strong>上下文的选取主要采用3类</strong>：</p>
<ul>
<li>Call-Site Sensitivity</li>
<li>Object Sensitivity</li>
<li>Type Sensitivity</li>
<li>…</li>
</ul>
<p><strong>说明</strong>：Select(c,l,c’:o<sub>i</sub>,m)，c—调用者上下文，l—调用者，c’:o<sub>i</sub>—接收对象（含堆的上下文信息）,m方法。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200825214950322.png" alt="image-20200825214950322"></p>
<h3 id="Call-site-Sensitivity"><a href="#Call-site-Sensitivity" class="headerlink" title="Call-site Sensitivity"></a>Call-site Sensitivity</h3><p><strong>原理</strong>：又称为k-call-site sensitivity / k-CFA，不断添加调用行号。</p>
<blockquote>
<p>Select(<strong>c,l</strong>,c’:oi,m) = (l’,…,l’’, l)</p>
</blockquote>
<p><strong>问题</strong>：如果函数调用自身，导致无限递归，如何限制上下文长度？</p>
<p><strong>解决</strong>：k-limiting Context Abstraction。只取最后k个上下文，通常取k&lt;=3。例如，函数方法的上下文通常取2，堆上下文通常取1。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200825220600403.png" alt="image-20200825220600403"></p>
<p><strong>示例</strong>：采用1-Call-Site，省略heap上下文。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200825223106171.png" alt="image-20200825223106171"></p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">WL</th>
<th align="center">正处理</th>
<th align="center">PFG</th>
<th align="center">指针集</th>
<th align="center">RM</th>
<th align="center">CG</th>
<th align="center">处理语句</th>
<th align="center">算法语句</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">{[]:C.main()}</td>
<td align="center"></td>
<td align="center">3</td>
<td align="center">AddReachable(mentry)—加入RM</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">[&lt;[]:c, {o3}&gt;]</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">3</td>
<td align="center">AddReachable(mentry)—处理New</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">[]</td>
<td align="center">&lt;[]:c, {o3}&gt;</td>
<td align="center"></td>
<td align="center">pt([]:c) ={o3}；</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">While开头，Propagate()—遍历WL更新指针</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">[⟨[4]:C.mthis, {o3}⟩]</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">4</td>
<td align="center">ProcessCall()—this指针加入WL</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">[⟨[4]:C.mthis, {o3}⟩]</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">{[ ]:4 → [4]:C.m()}；</td>
<td align="center"></td>
<td align="center">ProcessCall()——函数加入CG</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">[⟨[4]:C.mthis, {o3}⟩，⟨[4]:n1, {o12⟩，⟨[4]:n2, {o13⟩]</td>
<td align="center"></td>
<td align="center">没有参数/返回值</td>
<td align="center"></td>
<td align="center">{[]:C.main(), [4]:C.m()}</td>
<td align="center"></td>
<td align="center">12,13</td>
<td align="center">ProcessCall():AddReachable(m)处理m函数中的New</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">[⟨[4]:n1, {o12⟩，⟨[4]:n2, {o13⟩]</td>
<td align="center">⟨[4]:C.mthis, {o3}⟩</td>
<td align="center"></td>
<td align="center">pt([]:c) ={o3}；pt([4]:C.mthis)={o3}；</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">While开头，Propagate()—遍历WL更新指针</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">[⟨[4]:n1, {o12⟩，⟨[4]:n2, {o13⟩]</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">ProcessCall():处理m中的this调用</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">[⟨[4]:n1, {o12⟩，⟨[4]:n2, {o13⟩]</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">14</td>
<td align="center">ProcessCall():Select(c,l,c’:oi)选择上下文ct=[14]</td>
</tr>
<tr>
<td align="center">10</td>
<td align="center">[⟨[4]:n1, {o12⟩，⟨[4]:n2, {o13⟩]</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">{[]:C.main()， [4]:C.m()，[14]:C.id(Number)}</td>
<td align="center">{[ ]:4 → [4]:C.m()；[4]:14 → [14]:C.id(Number)}；</td>
<td align="center"></td>
<td align="center">ProcessCall():AddReachable([14]:C.id(Number))</td>
</tr>
<tr>
<td align="center">11</td>
<td align="center">[⟨[4]:n1, {o12⟩，⟨[4]:n2, {o13⟩]</td>
<td align="center"></td>
<td align="center">[4]:n1→[14]:n→[4]:x；</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">ProcessCall():AddEdge()参数边/返回值边</td>
</tr>
<tr>
<td align="center">12</td>
<td align="center">[⟨[4]:n1, {o12⟩，⟨[4]:n2, {o13⟩]</td>
<td align="center"></td>
<td align="center">[4]:n1→[14]:n→[4]:x；[4]:n2→[15]:n→[4]:y；</td>
<td align="center"></td>
<td align="center">{[]:C.main()， [4]:C.m()，[14]:C.id(Number)，[15]:C.id(Number)}</td>
<td align="center">{[ ]:4 → [4]:C.m()；[4]:14 → [14]:C.id(Number)，[4]:15 → [15]:C.id(Number)}；</td>
<td align="center">15</td>
<td align="center">ProcessCall()同理</td>
</tr>
<tr>
<td align="center">13</td>
<td align="center">[]</td>
<td align="center">[⟨[4]:n1, {o12⟩，⟨[4]:n2, {o13⟩]</td>
<td align="center"><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200825230454779.png" alt="image-20200825230454779"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">While开头—遍历WL更新指针</td>
</tr>
<tr>
<td align="center">14</td>
<td align="center">[]</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200825230511116.png" alt="image-20200825230511116"></td>
<td align="center"><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200825230522461.png" alt="image-20200825230522461"></td>
<td align="center">16</td>
<td align="center">While开头，ProcessCall()—处理<code>x.get()</code></td>
</tr>
</tbody></table>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200825230355976.png" alt="image-20200825230355976"></p>
<p><strong>上下文不敏感vs上下文敏感（1-Call-Site）</strong>：</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200825230709085.png" alt="image-20200825230709085"></p>
<h3 id="Object-Sensitivity"><a href="#Object-Sensitivity" class="headerlink" title="Object Sensitivity"></a>Object Sensitivity</h3><p><strong>原理</strong>：针对面向对象语言，用<code>receiver object</code>来表示上下文。对比1层的调用点敏感和对象敏感，时间和准确性上对象敏感显然更优，这是由面向对象语言的特点所确定的。</p>
<blockquote>
<p> Select(c,l,<strong>c’:oi</strong>,m) = [oj, … , ok, oi] （c’ = [oj, … , ok]）</p>
</blockquote>
<p><strong>示例</strong>：选取1-object，最终pt(x)=o3。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826010740396.png" alt="image-20200826010740396"></p>
<p><strong>对比</strong>：对比<code>1-Call-Site</code>和<code>1-object</code>上下文，在这个示例中<code>1-object</code>明显更准确。原因是面向对象语言的特性，多态性产生很多继承链，一层一层调用子对象，其中最关键的是<code>receiver object</code>，<code>receiver object</code>决定了调用者的根源。本例有多层调用，若采用2-Call-Site就不会出错。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826011344657.png" alt="image-20200826011344657"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826011439285.png" alt="image-20200826011439285"></p>
<p><strong>示例2</strong>：在本示例中，<code>1-Call-Site</code>明显更准确。因为同一个<code>receiver object</code>用不同参数多次调用了子函数，导致局部变量无法区分。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826012027064.png" alt="image-20200826012027064"></p>
<p><strong>结论</strong>：所以理论上，对象敏感与callsite敏感的准确度无法比较。但是对于面向对象语言，对象敏感的准确度要优于callsite敏感。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826012335207.png" alt="image-20200826012335207"></p>
<h3 id="Type-Sensitivity"><a href="#Type-Sensitivity" class="headerlink" title="Type Sensitivity"></a>Type Sensitivity</h3><p><strong>原理</strong>：牺牲精度，提高速度。基于创建点所在的类型，是基于对象敏感粗粒度的抽象，精度较低。</p>
<p>调用点所在的类型作为上下文；</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826012857854.png" alt="image-20200826012857854"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826012846362.png" alt="image-20200826012846362"></p>
<h3 id="总体对比"><a href="#总体对比" class="headerlink" title="总体对比"></a>总体对比</h3><p><strong>精度</strong>：object &gt; type &gt; call-site</p>
<p><strong>效率</strong>：type &gt; object &gt; call-site</p>
<p>本课老师提出选择上下文的方法，对代码的特点有针对性的选择上下文方法。</p>
<p>Java分析不需要流敏感，开销太大了，效果不明显。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826013113164.png" alt="image-20200826013113164"></p>
<h1 id="12-amp-13"><a href="#12-amp-13" class="headerlink" title="12 &amp; 13"></a>12 &amp; 13</h1><p>显示流和隐藏信道，使用污点分析来检测信息流漏洞。</p>
<h2 id="信息流安全"><a href="#信息流安全" class="headerlink" title="信息流安全"></a>信息流安全</h2><p><strong>访问控制</strong>：关注信息访问。但是程序获得信息之后去做了什么，访问控制监管不到。</p>
<p><strong>信息流安全</strong>：关注信息传播。保证程序以安全的程序处理信息，防止泄露。</p>
<p><strong>信息流</strong>：<code>x-&gt;y</code>表示x的值流向y。</p>
<p><strong>信息等级</strong>：对不同<strong>变量</strong>进行分级，即安全等级，H-高密级，L-低密级。</p>
<p><strong>安全策略</strong>：非干涉策略，高密级变量H的信息不能影响（流向）低密级变量L。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826134802054.png" alt="image-20200826134802054"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826135734797.png" alt="image-20200826135734797"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826140309150.png" alt="image-20200826140309150"></p>
<h2 id="机密性和完整性"><a href="#机密性和完整性" class="headerlink" title="机密性和完整性"></a>机密性和完整性</h2><p><strong>保密性</strong>—信息泄露，读保护；<strong>完整性</strong>—信息篡改，写保护。</p>
<p><strong>完整性错误类型</strong>：命令注入、SQL注入、XSS攻击、… 。都属于注入错误。</p>
<p><strong>完整性更宽泛的定义</strong>：准确性、完整性、一致性。准确性表示关键数据不被不可信数据破坏；完整性表示系统存储了所有的数据；一致性表示发送的数据和接收的数据是一致的。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826140937303.png" alt="image-20200826140937303"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826141241983.png" alt="image-20200826141241983"></p>
<h2 id="显示流和隐藏信道-Explicit-Flows-and-Covert-Channels"><a href="#显示流和隐藏信道-Explicit-Flows-and-Covert-Channels" class="headerlink" title="显示流和隐藏信道-Explicit Flows and Covert Channels"></a>显示流和隐藏信道-Explicit Flows and Covert Channels</h2><p><strong>显示流</strong>：直接的数值传递。由于显示流能泄露更多信息，所以本课程关注显示流的信息泄露。</p>
<p><strong>隐式信息流—侧信道</strong>：程序可能会以一些意想不到的方式泄露数据。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Eg1 隐式流</span></span><br><span class="line"><span class="keyword">if</span> (secret_H &lt; <span class="number">0</span>) </span><br><span class="line">  public_L = <span class="number">1</span>; </span><br><span class="line"><span class="keyword">else</span> Public_L = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// Eg2 终止信道</span></span><br><span class="line"><span class="keyword">while</span>(secret_H &lt; <span class="number">0</span>) &#123; ... &#125;;</span><br><span class="line"><span class="comment">// Eg3 时间信道</span></span><br><span class="line"><span class="keyword">if</span> (secret_H &lt; <span class="number">0</span>)</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt; <span class="number">1000000</span>; ++i) &#123; ... &#125;;</span><br><span class="line"><span class="comment">// Eg4 异常</span></span><br><span class="line"><span class="keyword">if</span> (secret_H &lt; <span class="number">0</span>)</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"..."</span>);</span><br><span class="line"><span class="comment">// Eg5 如果访问数组越界，则可以推断secret可以为负数</span></span><br><span class="line"><span class="keyword">int</span> sa_H[] = getSecretArray();</span><br><span class="line">sa_H[secret_H] = <span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826145727101.png" alt="image-20200826145727101"></p>
<p><strong>Covert Channels</strong>：信道指的是传递信息的机制，convert_channel指的是那些原本目的不是为了传递信息的信道。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826154238766.png" alt="image-20200826154238766"></p>
<h2 id="污点分析"><a href="#污点分析" class="headerlink" title="污点分析"></a>污点分析</h2><p><strong>说明</strong>：使用最广的信息流分析技术，需将程序数据分为两类，把感兴趣的数据标记为污点数据。</p>
<h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><p><strong><code>Sources</code> &amp; <code>Sink</code></strong>：</p>
<p><code>Sources</code>是污点数据的源，一般是有些函数的返回值，如<code>read()</code>；</p>
<p><code>Sink</code>是特定的程序点，某些敏感函数。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826155325353.png" alt="image-20200826155325353"></p>
<p><strong>保密性</strong>：Source是秘密数据，Sink是泄露点，信息泄露漏洞。</p>
<p><strong>完整性</strong>：Source是不可信数据，Sink是关键计算，注入漏洞。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826155805722.png" alt="image-20200826155805722"></p>
<h3 id="污点分析具体规则"><a href="#污点分析具体规则" class="headerlink" title="污点分析具体规则"></a>污点分析具体规则</h3><p><strong>定义</strong>：关注的是，污点数据是否能流向sink点。或者说，sink点处的指针指向哪些污点数据。</p>
<p><strong>TA/PTA对比</strong>：污点分析与指针分析，一个是污点数据的流向，一个是抽象对象的流向。</p>
<p>可把污点数据看作是对象，source看作allocation-site，借助指针分析来实现污点分析。</p>
<p><strong>标记</strong>：t<sub>i</sub>表示调用点i返回的污点数据，t<sub>i</sub>指针集就包含普通对象+污点数据。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826160638720.png" alt="image-20200826160638720"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826161010695.png" alt="image-20200826161010695"></p>
<p><strong>规则</strong>：</p>
<ol>
<li>Source：先看CG图，如果程序有语句在l处调用了m方法，有调用边。条件是如果m属于分析的Source方法集合内，那么我们就把返回值标记为污点值tl，更新<code>receiver object</code> r的指向。</li>
<li>Sink：在Sink的调用点检查就可以了。主要就是看调用点的调用目标方法，如果目标方法属于Sink集合，那么就开始检查参数，遍历参数，看参数他们的指针集。如果指针集之中发现了污点数据，那么就产生了TaintFlows，会报告说污点数据tj会流到m方法中。</li>
</ol>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826162027035.png" alt="image-20200826162027035"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826162045978.png" alt="image-20200826162045978"></p>
<p><strong>示例</strong>：第3行产生新对象o11的同时，产生的污点数据t3；最终指针分析发现，t3会流向sink函数<code>log()</code>。</p>
<p>理解：</p>
<p>首先x指向o2，pw指向o11这个对象。由于getPassword方法是一个Source方法，那么就会触发处理source规则，会生成taint对象，上下文目前是在第三行，那么就是t3，加入到pw的指针集里面。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826163420112.png" alt="image-20200826163420112"></p>
<p>实现分析器用到：分析Java用Soot/WALA；分析C++用LLVM；有的用Datalog实现分析器（如DOOP分析框架）。</p>
<p>LLVM指针分析工具：SVF</p>
<h1 id="14"><a href="#14" class="headerlink" title="14"></a>14</h1><p>Datalog语法，如何利用Datalog实现指针分析和污点分析。</p>
<p>本节课内容讲到了很多数据逻辑方面的应用，单上数理逻辑会觉得理论性太强，单上这节课的应用知识又觉得理论上不够严谨，总之算是一种互补。</p>
<h2 id="Motivation-1"><a href="#Motivation-1" class="headerlink" title="Motivation"></a>Motivation</h2><p><strong>内容</strong>：了解命令式 vs 声明式语言，对比两种语言实现指针分析算法的优劣。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 问题：从一群人中挑出成年人。</span></span><br><span class="line"><span class="comment">// 命令式语言(Imperative)：详细的命令机器怎么（How）去处理一件事情以达到你想要的结果（What）。如Java</span></span><br><span class="line"><span class="function">Set&lt;Person&gt; <span class="title">selectAdults</span><span class="params">(Set&lt;Person&gt; persons)</span> </span>&#123; </span><br><span class="line">  Set&lt;Person&gt; result = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">  <span class="keyword">for</span> (Person person : persons)</span><br><span class="line">    <span class="keyword">if</span> (person.getAge() &gt;= <span class="number">18</span>)</span><br><span class="line">      result.add(person);</span><br><span class="line">    <span class="keyword">return</span> result; </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 声明式语言(Declarative)：只告诉你想要的结果（What），机器自己摸索过程（How）。如SQL，代码更简洁</span></span><br><span class="line">SELECT * FROM Persons WHERE Age &gt;= <span class="number">18</span>;</span><br></pre></td></tr></table></figure>

<p><strong>命令式语言—PTA</strong>：若采用命令式实现指针分析算法，实现复杂。需考虑<code>worklist</code>数据结构，是数组list还是链表，是先进先出还是先进后出；如何表示指针集合，hash集还是bit向量；如何关联PFG节点和指针；如何处理相关语句中的变量。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826203231609.png" alt="image-20200826203231609"></p>
<p><strong>声明式语言—PTA</strong>：如何用声明式语言实现PTA？优点是简洁、可读性强、易于实现，例如Datalog。缺点是不方便表达复杂逻辑（Eg，for all全部满足）、不能控制性能。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826204036519.png" alt="image-20200826204036519"></p>
<h2 id="Datalog介绍"><a href="#Datalog介绍" class="headerlink" title="Datalog介绍"></a>Datalog介绍</h2><p><strong>Datalog</strong>（Data + Logic）：是声明式逻辑编程语言，可读性强，最初用于数据库。现在可用于程序分析、大数据、云计算。特点—没有副作用、没有控制流、没有函数、非图灵完备（精简了许多功能）。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826204209021.png" alt="image-20200826204209021"></p>
<h3 id="Data"><a href="#Data" class="headerlink" title="Data"></a>Data</h3><p>谓词，原子。</p>
<p><strong>谓词Predicate</strong>：看作一系列陈述的集合，陈述某事情是不是事实（真假）。如Age表，表示一些人的年龄。</p>
<p><strong>事实fact</strong>：特定值的组合。Eg，(“Xiaoming”, 18)。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826210136864.png" alt="image-20200826210136864"></p>
<p><strong>原子Atom</strong>：<code>P(X1, X2, ... , Xn)</code>。P表示谓词名，Xi表示参数（又叫term，可以是变量或常量）。</p>
<p><code>Age(&quot;Xiaoming&quot;, 18)</code> == true ；</p>
<p><code>Age(&quot;Alan&quot;, 23)</code> == false。</p>
<h3 id="Logic-Rule"><a href="#Logic-Rule" class="headerlink" title="Logic(Rule)"></a>Logic(Rule)</h3><p><strong>Rule</strong>：表示逻辑推导规则，若<code>Body</code>都为true，则<code>Head</code>为true。<code>H &lt;- B1, B2, ... ,Bn</code>。H是<code>Head</code>，Bi是<code>Body</code>。   Eg，<code>Adult(person) &lt;- Age(person, age), age &gt;= 18</code>。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826211230895.png" alt="image-20200826211230895"></p>
<p><strong>Rule要求</strong>：规则中的值要有限，如<code>A(x) &lt;- B(y), x &gt; y</code>；规则不能有悖论，如<code>A(x) &lt;- B(x), !A(x)</code>。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826212936379.png" alt="image-20200826212936379"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826212953538.png" alt="image-20200826212953538"></p>
<p><strong>Datalog中逻辑或</strong>：A或B都可推导出C，可写成<code>C&lt;-A. C&lt;-B.</code>或者<code>C&lt;-A;B.</code>，与的优先级高于或。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826213916653.png" alt="image-20200826213916653"></p>
<p><strong>Datalog中逻辑非</strong>：<code>!B(...)</code>。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826214144125.png" alt="image-20200826214144125"></p>
<h3 id="Datalog谓词分类"><a href="#Datalog谓词分类" class="headerlink" title="Datalog谓词分类"></a>Datalog谓词分类</h3><p>EDB（extensional database）外延数据库：谓词需预先定义，关系不可变，可被当做输入。</p>
<p>IDB（intensional database）内涵数据库：谓词是根据规则建立的，关系是根据规则推导的，可被看作是是输出。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826213540508.png" alt="image-20200826213540508"></p>
<p><strong>说明</strong>：<code>H &lt;- B1, B2, ... ,Bn</code>，H只能是IDB，Bi可以是EDB或IDB。</p>
<p><strong>递归性</strong>：Datalog支持递归，也即能够推导出自身。</p>
<p>Eg，</p>
<p><code>Reach(from, to) &lt;- Edge(from, to)</code>；</p>
<p><code>Reach(from, to) &lt;- Reach(from, node), Edge(node, to)</code>.</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826214438975.png" alt="image-20200826214438975"></p>
<h3 id="Datalog程序运行"><a href="#Datalog程序运行" class="headerlink" title="Datalog程序运行"></a>Datalog程序运行</h3><p><strong>Datalog程序运行</strong>：输入EDB+rules到Datalog引擎，输出IDB。常用Datalog引擎——LogicBlox, Soufflé, XSB, Datomic, Flora-2。</p>
<p><strong>Datalog程序性质</strong>：单调性、终止性。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826221132542.png" alt="image-20200826221132542"></p>
<h3 id="Datalog实现指针分析"><a href="#Datalog实现指针分析" class="headerlink" title="Datalog实现指针分析"></a>Datalog实现指针分析</h3><h3 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a>概念</h3><p><strong>EDB</strong>：程序句法上可获得的指针相关信息。如<code>New</code> / <code>Assign</code> / <code>Store</code> / <code>Load</code>语句。V-变量，F-域，O-对象。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826222753564.png" alt="image-20200826222753564"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826222742365.png" alt="image-20200826222742365"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826223142375.png" alt="image-20200826223142375"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826224003312.png" alt="image-20200826224003312"></p>
<h2 id="上下文不敏感PTA示例"><a href="#上下文不敏感PTA示例" class="headerlink" title="上下文不敏感PTA示例"></a>上下文不敏感PTA示例</h2><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826225153922.png" alt="image-20200826225153922"></p>
<p><strong>步骤</strong>：其实指令处理顺序不固定。</p>
<ol>
<li>首先将EDB（指令）表示成表格数据形式。</li>
<li>处理<code>New</code>指令</li>
<li>处理<code>Assign</code>指令</li>
<li>处理<code>Store</code>指令</li>
<li>处理<code>Load</code>指令</li>
</ol>
<h2 id="全程序指针分析-上下文敏感"><a href="#全程序指针分析-上下文敏感" class="headerlink" title="全程序指针分析-上下文敏感"></a>全程序指针分析-上下文敏感</h2><p><strong>call指令规则</strong>：S—指令，M—方法。共3条rule。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826225740559.png" alt="image-20200826225740559"></p>
<p>VCall：就是表示callsite，调用指令上下文位置l，变量x，方法k；</p>
<p>Dispatch：根据对象o，给定调用的方法k，去找到实际调用的方法m；</p>
<p>ThisVar：获取实际调用的方法m中的this变量</p>
<p>Reachable：表示方法m可达</p>
<p>CallGraph：表示l到m有一条边，可达</p>
<ol>
<li>首先找到调用的目标函数m，传递this指针。</li>
</ol>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826230255993.png" alt="image-20200826230255993"></p>
<ol start="2">
<li>传递参数</li>
</ol>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826230814620.png" alt="image-20200826230814620"></p>
<p>形参-&gt;实参-&gt;o</p>
<ol start="3">
<li>传返回值</li>
</ol>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826231316170.png" alt="image-20200826231316170"></p>
<p>三条规则的合影：</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200826231327413.png" alt="image-20200826231327413"></p>
<p><strong>全程序指针分析</strong>：引入程序入口函数m。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200827104907724.png" alt="image-20200827104907724"></p>
<h2 id="Datalog实现污点分析"><a href="#Datalog实现污点分析" class="headerlink" title="Datalog实现污点分析"></a>Datalog实现污点分析</h2><p><strong>EDB谓词-输入</strong>：</p>
<ul>
<li>Source(m : <strong>M</strong>)         ——   产生污点源的函数</li>
<li>Sink(m : <strong>M</strong>)              ——   <code>sink</code>函数</li>
<li>Taint(l : <strong>S</strong>, t : <strong>T</strong>)        ——   关联某<code>callsite</code> l和它产生的污点数据t</li>
</ul>
<p><strong>IDB谓词-输出</strong>：</p>
<ul>
<li>TaintFlow(t : <strong>T</strong>, m : <strong>M</strong>)     ——  表示污点数据t会流向<code>sink</code>函数m</li>
</ul>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200827110020773.png" alt="image-20200827110020773"></p>
<p><strong>规则</strong>：处理<code>source</code>和<code>sink</code>函数。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200827152049773.png" alt="image-20200827152049773"></p>
<ol>
<li><p>有的调用图有多个main入口方法，咋办？</p>
<p>将多个入口函数都加入到EntryMethod(m)即可。</p>
</li>
<li><p>有没有datalog和传统结合的做法</p>
<p>如chord（java+Datalog实现）</p>
</li>
</ol>
<h1 id="15"><a href="#15" class="headerlink" title="15"></a>15</h1><p>目标：以图可达性分析来进行程序分析，没有了数据流传播的过程。</p>
<h2 id="Infeasible-and-Realizable-Paths——基本概念"><a href="#Infeasible-and-Realizable-Paths——基本概念" class="headerlink" title="Infeasible and Realizable Paths——基本概念"></a>Infeasible and Realizable Paths——基本概念</h2><p><strong>Infeasible Paths</strong>：CFG中实际动态运行中不会执行到的路径，如不匹配的调用返回边。这种路径可能会影响到程序分析的结果，但静态分析不能<strong>完全</strong>判定路径是否可达，会造成误报。</p>
<p><strong>Realizable Paths</strong>：跨函数调用产生的返回边和对应的call-site边匹配，这样的path。它可能不会被执行，</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200827213547440.png" alt="image-20200827213547440"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200828104139957.png" alt="image-20200828104139957"></p>
<p><strong>目标</strong>：识别<code>Realizable path</code>，避免沿着<code>Unrealizable path</code>来传播数据分析。</p>
<p><strong>方法</strong>：<code>CFL-Reachablity</code>。</p>
<h2 id="CFL-Reachablity（IFDS的理论基础，识别Realizable-path）"><a href="#CFL-Reachablity（IFDS的理论基础，识别Realizable-path）" class="headerlink" title="CFL-Reachablity（IFDS的理论基础，识别Realizable path）"></a>CFL-Reachablity（IFDS的理论基础，识别Realizable path）</h2><p><strong>CFL-Reachablity</strong>：path连接A和B，或者说A能到达B，当且仅当path所有边的labels连接起来 是<code>context-free language</code>（CFL）中的一个word（或者说经过CFG语法变换之后可以得到该<code>path word</code>）。CFL是编译原理中的概念，遵循CFG语法。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200828105754052.png" alt="image-20200828105754052"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200828105808896.png" alt="image-20200828105808896"></p>
<p>理解：</p>
<p>S可以无条件滴替换为asb，也可以无条件地替换ɛ。</p>
<p><strong>部分括号匹配问题（Partially Balanced-Parenthesis）</strong>：利用CFL来解决括号匹配问题，以识别<code>Realizable path</code>。</p>
<ul>
<li>部分——有<code>)i</code>一定要有<code>(i</code>，反之有<code>(i</code>不一定要有<code>)i</code>，也即可以调用子函数而不返回。</li>
<li>标记，调用边——<code>(i</code>；返回边——<code>)i</code>；其他边——e。</li>
</ul>
<p><strong>CFL-Reachablity</strong>：若path word（所有edge的label连起来组成的单词）可用CFL L(realizable)表示（可进行各种替换），则为<code>Realizable Path</code>。示例如下，(1(2e)2)1(3就是边的label相连接形成的，绿色是可匹配的部分，<code>realizable</code>可被替换为<code>matched realizable</code>、<code>(i realizable</code>、ɛ。语法替换规则如下，这也是一个CFL语言示例：</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200828111138550.png" alt="image-20200828111138550"></p>
<p>示例：</p>
<p>看边就行了</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200828122836984.png" alt="image-20200828122836984"></p>
<h2 id="IFDS"><a href="#IFDS" class="headerlink" title="IFDS"></a>IFDS</h2><p><strong>IFDS含义</strong>：</p>
<p>Interprocedural，Finite，Distributive，Subset Problem</p>
<p>Interprocedural—全程序分析,</p>
<p>Finite—域有限（如live variables、definitions）,</p>
<p><strong>Distributive</strong>—<code>Transfer Function</code>满足f(aub)=f(a)uf(b)，</p>
<p>Subset—子集问题。</p>
<p><strong>利用图可达性的程序分析框架</strong>：采用的操作——Meet-Over-All-Realizable-Paths（MRP），MRPn比MOPn更加精确，范围更小。MOP对所有路径进行meet操作，MRP只对<code>realizable path</code>进行meet操作，更准确。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200828163341454.png" alt="image-20200828163341454"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200828163422557.png" alt="image-20200828163422557"></p>
<h2 id="Supergraph（之前叫iCFG）-amp-Flow-Functions"><a href="#Supergraph（之前叫iCFG）-amp-Flow-Functions" class="headerlink" title="Supergraph（之前叫iCFG）&amp; Flow Functions"></a>Supergraph（之前叫iCFG）&amp; Flow Functions</h2><h3 id="IFDS步骤一：构造Supergraph"><a href="#IFDS步骤一：构造Supergraph" class="headerlink" title="IFDS步骤一：构造Supergraph"></a>IFDS步骤一：构造Supergraph</h3><p><strong>说明</strong>：之前叫iCFG，给每个<strong>node</strong>定义<code>transfer function</code>；现在叫做Supergraph，给每个<strong>edge</strong>定义<code>transfer function</code>。</p>
<p><strong>Supergraph</strong>：G<em>=(N</em>, E*)。</p>
<ul>
<li>G*包含所有的流图G1, G2, … （每个函数对应一个流图，本例对应Gmain和Gp）；</li>
<li>每个流图Gp都有个开始节点sp和退出节点ep；</li>
<li>每个<strong>函数调用</strong>包含调用节点Callp 和 返回节点Retp。</li>
<li>函数调用有3类边：<ul>
<li>过程内<code>call-to-return-site</code>边，从Callp→Retp；</li>
<li>过程间<code>call-to-start</code>边，从Callp→sp（sp是被调用函数的开头）；</li>
<li>过程间<code>exit-to-return-site</code>边，从ep→Retp（ep是被调用函数的结尾）。</li>
</ul>
</li>
</ul>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200828170124984.png" alt="image-20200828170124984"></p>
<h3 id="IFDS步骤一：设计流函数"><a href="#IFDS步骤一：设计流函数" class="headerlink" title="IFDS步骤一：设计流函数"></a>IFDS步骤一：设计流函数</h3><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200828171430697.png" alt="image-20200828171430697"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200828173236760.png" alt="image-20200828173236760"></p>
<p><strong>示例</strong>：</p>
<ul>
<li><code>call-to-callee</code>把与callee直接相关信息传递进去，如用形参替换实参；</li>
<li><code>exit-to-return</code>边把形参相关信息剔除；</li>
<li><code>call-to-return-site</code>只传递局部变量，排除全局变量g，降低误报。全局变量已经传入到被调用函数进行处理了，全局变量是否被初始化取决于被调用函数。</li>
</ul>
<p>例子:</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200829111141207.png" alt="image-20200829111141207"></p>
<h2 id="Exploded-Supergraph-and-Tabulation-Algorithm"><a href="#Exploded-Supergraph-and-Tabulation-Algorithm" class="headerlink" title="Exploded Supergraph and Tabulation Algorithm"></a>Exploded Supergraph and Tabulation Algorithm</h2><h3 id="IFDS步骤二：构造exploded-supergraph-G"><a href="#IFDS步骤二：构造exploded-supergraph-G" class="headerlink" title="IFDS步骤二：构造exploded supergraph G#"></a>IFDS步骤二：构造<code>exploded supergraph</code> G#</h3><p><strong><code>Exploded Supergraph</code>G#</strong>：将<code>trans func</code>转换成边的关系<code>representation relations</code>（graph），每个流函数变成了有<code>2(D+1)</code>个节点，边数最多(D+1)2，D表示<code>dataflow facts</code>元素个数（如待分析的变量个数）。G*中每个结点n被分解成<code>D+1</code>个结点，每条边n1→n2被分解成<code>representation relation</code>。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200829111247813.png" alt="image-20200829111247813"></p>
<p><strong>示例</strong>：</p>
<ul>
<li>（1）输入S是什么输出就是什么，1/3；</li>
<li>（2）无论什么输入，都输出{a}，1/2；</li>
<li>（3）b是无条件产生，所以0→b，a不能往下传了，b已经从0可达了就不用加b→b，c不受影响，也即无论有关a和b的事实之前是什么样，都不再重要；</li>
<li>（4）b通过a得到所以a→b，不影响a、c的传递。注意，这里的值不是说变量在程序中真正的值是多少，而是说有关此变量的数据流事实的值是什么，如a的值可以为<strong>被初始化了</strong>和<strong>未被初始化</strong>两种，对应的集合即不包括和包括a。</li>
</ul>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200829114338794.png" alt="image-20200829114338794"></p>
<p><strong>问题</strong>：为什么需要0→0的边？以往数据流分析中，确定程序点（结点）p是否包含data fact a，是看a是否在OUT[p]中；IFDS中，是看&lt;s<sub>main</sub>, 0&gt;是否能到达&lt;p, a&gt;。如果没有0→0的边，则无法完全连通，所以0→0又称为<code>Glue Edge</code>。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200829121022899.png" alt="image-20200829121022899"></p>
<p><strong>构建G#示例</strong>：最后能从&lt;s<sub>main</sub>, 0&gt;→&lt;e<sub>main</sub>, g&gt;（要通过<code>realizable paths</code>），则e<sub>main</sub>点的g是可能未初始化的。emain处的x和n<sub>Print(a,g)</sub>处的g都是初始化过的，因为从s<sub>main</sub>不可达（不能通过<code>non-realizable paths</code>——绿色线）。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200829121859408.png" alt="image-20200829121859408"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200829122128987.png" alt="image-20200829122128987"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200829122249017.png" alt="image-20200829122249017"></p>
<p>不可达原因：括号没匹配上</p>
<h3 id="IFDS步骤三：Tabulation算法——判断是否可达"><a href="#IFDS步骤三：Tabulation算法——判断是否可达" class="headerlink" title="IFDS步骤三：Tabulation算法——判断是否可达"></a>IFDS步骤三：Tabulation算法——判断是否可达</h3><p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200829122648056.png" alt="image-20200829122648056"></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/6349402-5043f4907cd15c10-20200829215452471.png" alt="img"></p>
<p><strong>Tabulation算法工作原理</strong>：假设只关注1个data fact，p’被p和p’’同时调用。</p>
<ul>
<li>处理括号匹配：每次处理到返回点ep’时，开始括号匹配（<code>call-to-return</code>匹配），找到调用点(Callp， Callp’’)和相应的返回点(Retp，Retp’’)。</li>
<li>处理总结边——SummaryEdge：总结边—&lt;Call,dm&gt;→&lt;Ret,dn&gt;，表示dm通过调用p’能到达pn，要避免重复处理p和p’’中调用同一函数p’（优化）。</li>
</ul>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/6349402-1f2401da0b53aa3a.png" alt="img"></p>
<p><strong>Tabulation算法优点</strong>：传统的worklist算法是利用了queue的特性，每次循环只考虑与被改变值结点的相关结点。论文中用于解决图可达问题的Tabulation 算法是基于worklist的动态规划算法，比传统worklist算法考虑interprocedure问题更精确也更省时。</p>
<h2 id="Understanding-the-Distributivity-of-IFDS"><a href="#Understanding-the-Distributivity-of-IFDS" class="headerlink" title="Understanding the Distributivity of IFDS"></a>Understanding the Distributivity of IFDS</h2><p><strong>问题</strong>：不能用IFDS进行常量传播分析、指针分析。</p>
<p><strong>原因</strong>：由IFDS的框架决定，一次只能处理1个变量。例如，表示若x和y都存在则…，无法表示这种关系。不满足<code>F(x^y)=F(x)^F(y)</code>。</p>
<p><strong>总结</strong>：给定语句S，如果输出取决于多个输入的<code>data fact</code>，则该分析不具备可分配性，不能用IFDS表达。IFDS中，每个<code>data fact</code>（圆圈）与其传播（边）都可以各自处理，且不影响最终结果。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200829213817200.png" alt="image-20200829213817200"></p>
<p><strong>指针分析</strong>：箭头表示变量是否指向<code>new T</code>，但由于缺乏别名信息<code>alias(x,y)</code> / <code>alias(x.f,y.f)</code>，导致分析结果错误。归根结底，要想在IFDS中获取别名信息<code>alias(x,y)</code>，需要考虑多个输入<code>data fact</code>（x、y），所以不能用IFDS。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200829215602083.png" alt="image-20200829215602083"></p>
<h1 id="16"><a href="#16" class="headerlink" title="16"></a>16</h1><h2 id="Soundness-amp-Soundiness"><a href="#Soundness-amp-Soundiness" class="headerlink" title="Soundness &amp; Soundiness"></a>Soundness &amp; Soundiness</h2><p>分析真实复杂程序时，产生的问题都与Soundiness有关，是最前沿的topic之一。</p>
<p><strong>Soundness</strong>：保守估计，分析结果能包含程序所有可能的执行。学术界和工业界都做不到。</p>
<p><strong>复杂语言特性</strong>：导致分析结果不精确。</p>
<ul>
<li>Java：Reflection, native code, dynamic class loading, etc.</li>
<li>JavaScript：eval（执行任意命令）, document object model (DOM，和DOM加护), etc.</li>
<li>C/C++：Pointer arithmetic（指针地址+1或乘以）, function pointers, etc.</li>
</ul>
<p><strong>现状</strong>：有些文章不提这类问题，或者随意一提（如eval）。极具误导性，导致相信该工具很sound，且影响专家的评判。</p>
<p><strong>Soundiness</strong>：直观相信的”truth”，但没有任何事实和证据。</p>
<p><strong>词语对比</strong>：</p>
<ul>
<li>sound analysis：能捕捉所有动态运行行为，理想化。</li>
<li>soundy analysis：目标是捕捉所有动态行为，但对于某些复杂语言特性可以unsound。</li>
<li>unsound analysis：为了效率、精度，故意不处理某些行为。</li>
</ul>
<h2 id="复杂语言特性一：Java-Reflection—反射"><a href="#复杂语言特性一：Java-Reflection—反射" class="headerlink" title="复杂语言特性一：Java Reflection—反射"></a>复杂语言特性一：Java Reflection—反射</h2><h3 id="什么是Java反射"><a href="#什么是Java反射" class="headerlink" title="什么是Java反射"></a>什么是Java反射</h3><p><strong>Java Reflection</strong>：反射机制很重要的一点就是“运行时”，其使得我们可以在程序运行时加载、探索以及使用编译期间完全未知的 <code>.class</code> 文件。换句话说，Java 程序可以加载一个运行时才得知名称的 <code>.class</code> 文件，然后获悉其完整构造，并生成其对象实体、或对其 fields（变量）设值、或调用其 methods（方法）。</p>
<p><strong>三个MetaObject</strong>：</p>
<p>Class-class，Method-method，Field-field分别对应。</p>
<p><strong>说明</strong>：非反射代码在编译时就能确定对象；反射代码在运行时才确定对象，如c指向什么，”Person”也可能是的字符串指针，很难静态分析。分析该类代码很有必要，如弄清对象到底调用了哪个目标函数、对象域的指向关系等。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200830164532751.png" alt="image-20200830164532751"></p>
<h3 id="分析方法"><a href="#分析方法" class="headerlink" title="分析方法"></a>分析方法</h3><p><strong>分析方法</strong>：String Contant analysis + Pointer Analysis（Reflection Analysis for Java——APLAS 2005）。</p>
<p><strong>示例</strong>：目标是分析m调用的目标函数。</p>
<ul>
<li>找到m的定义点，即<code>Method m = c.getMethod(mName, ...);</code></li>
<li>通过<code>String Contant analysis</code>找到<code>mName</code>指向内容</li>
<li>通过指针分析找到c指向内容</li>
<li>通过<code>String Contant analysis</code>找到<code>cName</code>指向内容</li>
<li>知道了是调用<code>Person</code>类的<code>setName</code>函数</li>
</ul>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200830165227825.png" alt="image-20200830165227825"></p>
<p><strong>问题</strong>：若字符串的值无法通过静态分析得到，则反射目标不能求解。Eg，字符串来自配置文件、网络、命令行、复杂字符串处理、动态生成、加密。</p>
<h3 id="改进"><a href="#改进" class="headerlink" title="改进"></a>改进</h3><p><strong>解决方法</strong>：Type Inference + String analysis + Pointer Analysis（<a href="https://yuleisui.github.io/publications/ecoop14.pdf" target="_blank" rel="noopener">Self-Inferencing Reflection Resolution for Java</a>——ECOOP 2014，李樾，谭添老师的成果）。在创造点不可推，但在使用点可推。</p>
<p><strong>示例</strong>：【搜集隐藏线索】类名依赖cmd参数，解不出来；但在调用点，通过Java的类型系统推导<code>parameters</code>，发现<code>parameters</code>是this指针。推出结论就是，175行的目标函数有1个参数，且声明类型要么是<code>FrameworkCommandInterpreter</code>要么是其子类。结果推断出50个反射目标函数，48个为true。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200830171109282.png" alt="image-20200830171109282"></p>
<p><strong>最新工作</strong>：<a href="https://yuelee.bitbucket.io/papers/tosem19.pdf" target="_blank" rel="noopener">Understanding and Analyzing Java Reflection</a> (TOSEM 2019) <em>Yue Li, Tian Tan, Jingling Xue</em>。不仅求解反射对象更准确更多，而且能说出哪里解的不准。</p>
<p><strong>常用方法</strong>：<a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.445.5090&rep=rep1&type=pdf" target="_blank" rel="noopener">Taming reflection: Aiding static analysis in the presence of reflection and custom class loaders</a> (ICSE 2011)。利用动态分析来解，缺点是测试用例的覆盖路径有限，优点是只要解出来，结果都为真。</p>
<h2 id="复杂语言特性二：Native-Code"><a href="#复杂语言特性二：Native-Code" class="headerlink" title="复杂语言特性二：Native Code"></a>复杂语言特性二：Native Code</h2><p><strong>Native Code</strong>：一个Native Method就是一个java调用非java代码的接口。该方法的实现由非java语言实现，已被编译为特定于处理器的机器码的代码，这些代码可以直接被虚拟机执行，与字节码的区别：虚拟机是一个把通用字节码转换成用于特定处理器的本地代码的程序，比如C。这个特征并非java所特有，很多其它的编程语言都有这一机制，比如在C++中，你可以用extern “C”告知C++编译器去调用一个C的函数。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200830172333870.png" alt="image-20200830172333870"></p>
<p><strong>Java Native Interface(JNI)</strong>：是一种编程框架（函数模型，反映参数格式等），使得Java虚拟机中的Java程序可以调用本地应用/或库，也可以被其他程序调用。 本地程序一般是用其它语言（C、C++或汇编语言等）编写的，并且被编译为基于本机硬件和操作系统的程序。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200830205416161.png" alt="image-20200830205416161"></p>
<p><strong>示例</strong>：先加载Native库，声明Native函数，<code>*env</code>变量可以在Native代码中用于创建对象、访问域、调用Java中的方法等，支持230个JNI函数。<strong>问题是跨语言之后，如何静态分析<code>je.guessMe()</code>这个调用？</strong></p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200830211838150.png" alt="image-20200830211838150"></p>
<p><strong>方法</strong>：对重要的<code>native code</code>手动建模。例如，对经常调用的<code>arraycopy()</code>函数进行建模，建模后就是一个拷贝循环，但从指针分析角度来讲，看到这个循环，我们就把数组指针进行传递。</p>
<p><img src="../images/%E3%80%90%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6-%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%91%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/image-20200830214334563.png" alt="image-20200830214334563"></p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="https://www.jianshu.com/u/a12c5b882be2" target="_blank" rel="noopener">1</a></p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90%E5%9F%BA%E7%A1%80/" rel="tag"><i class="fa fa-tag"></i>静态分析基础</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/Java%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8/" rel="prev" title="Java方法调用">
      <i class="fa fa-chevron-left"></i> Java方法调用
    </a></div>
      <div class="post-nav-item">
    <a href="/%E3%80%90%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E%E3%80%91JDK7u21/" rel="next" title="【反序列化漏洞】JDK7u21">
      【反序列化漏洞】JDK7u21 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>
      <!--
      <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="https://link.hhtjim.com/163/26348068.mp3"></iframe>
      -->
      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#序言"><span class="nav-number">1.</span> <span class="nav-text">序言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#01"><span class="nav-number">2.</span> <span class="nav-text">01</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#PL：Programming-Language"><span class="nav-number">2.1.</span> <span class="nav-text">PL：Programming Language</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Soundness-amp-Completeness"><span class="nav-number">2.2.</span> <span class="nav-text">Soundness &amp; Completeness</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#02"><span class="nav-number">3.</span> <span class="nav-text">02</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#编译器与静态分析的关系"><span class="nav-number">3.1.</span> <span class="nav-text">编译器与静态分析的关系</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AST-vs-IR"><span class="nav-number">3.2.</span> <span class="nav-text">AST vs. IR</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3AC-3地址码"><span class="nav-number">3.3.</span> <span class="nav-text">3AC-3地址码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Soot"><span class="nav-number">3.4.</span> <span class="nav-text">Soot</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BasicBlock-BB-基本块"><span class="nav-number">3.5.</span> <span class="nav-text">BasicBlock BB 基本块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CFG-Control-Flow-Graph"><span class="nav-number">3.6.</span> <span class="nav-text">CFG Control Flow Graph</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#03"><span class="nav-number">4.</span> <span class="nav-text">03</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Data-Flow-Analysis"><span class="nav-number">4.1.</span> <span class="nav-text">Data Flow Analysis</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据流分析预备知识"><span class="nav-number">4.2.</span> <span class="nav-text">数据流分析预备知识</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Reaching-Definitions-Analysis"><span class="nav-number">4.3.</span> <span class="nav-text">Reaching Definitions Analysis</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#分析"><span class="nav-number">4.3.1.</span> <span class="nav-text">分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#算法"><span class="nav-number">4.3.2.</span> <span class="nav-text">算法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#例子"><span class="nav-number">4.3.3.</span> <span class="nav-text">例子</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#停止条件"><span class="nav-number">4.3.4.</span> <span class="nav-text">停止条件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#04"><span class="nav-number">5.</span> <span class="nav-text">04</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Live-Variables-Analysis"><span class="nav-number">5.1.</span> <span class="nav-text">Live Variables Analysis</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#分析-1"><span class="nav-number">5.1.1.</span> <span class="nav-text">分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#算法-1"><span class="nav-number">5.1.2.</span> <span class="nav-text">算法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#例子-1"><span class="nav-number">5.1.3.</span> <span class="nav-text">例子</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Available-Expression-Analysis"><span class="nav-number">5.2.</span> <span class="nav-text">Available Expression Analysis</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#分析-2"><span class="nav-number">5.2.1.</span> <span class="nav-text">分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#算法-2"><span class="nav-number">5.2.2.</span> <span class="nav-text">算法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#例子-2"><span class="nav-number">5.2.3.</span> <span class="nav-text">例子</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三种分析方法对比"><span class="nav-number">5.3.</span> <span class="nav-text">三种分析方法对比</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#05-amp-06"><span class="nav-number">6.</span> <span class="nav-text">05 &amp; 06</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#迭代算法实质分析"><span class="nav-number">6.1.</span> <span class="nav-text">迭代算法实质分析</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#理论"><span class="nav-number">6.1.1.</span> <span class="nav-text">理论</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#图示"><span class="nav-number">6.1.2.</span> <span class="nav-text">图示</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#偏序-Partial-Order"><span class="nav-number">6.2.</span> <span class="nav-text">偏序 Partial Order</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#上下界-Upper-and-Lower-Bounds"><span class="nav-number">6.3.</span> <span class="nav-text">上下界 Upper and Lower Bounds</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#定义"><span class="nav-number">6.3.1.</span> <span class="nav-text">定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#实例"><span class="nav-number">6.3.2.</span> <span class="nav-text">实例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#特性"><span class="nav-number">6.3.3.</span> <span class="nav-text">特性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lattice-格论"><span class="nav-number">6.4.</span> <span class="nav-text">Lattice 格论</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#格"><span class="nav-number">6.4.1.</span> <span class="nav-text">格</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#半格"><span class="nav-number">6.4.2.</span> <span class="nav-text">半格</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#全格"><span class="nav-number">6.4.3.</span> <span class="nav-text">全格</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#格点积"><span class="nav-number">6.4.4.</span> <span class="nav-text">格点积</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据流分析框架-via-Lattice"><span class="nav-number">6.5.</span> <span class="nav-text">数据流分析框架 via.Lattice</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#单调性与不动点定理（Monotonicity-amp-Fixed-Point-Theorem）"><span class="nav-number">6.6.</span> <span class="nav-text">单调性与不动点定理（Monotonicity&amp;Fixed Point Theorem）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#迭代算法转换到不动点理论"><span class="nav-number">6.7.</span> <span class="nav-text">迭代算法转换到不动点理论</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#从Lattice角度看may-must分析"><span class="nav-number">6.8.</span> <span class="nav-text">从Lattice角度看may/must分析</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#May-analysis"><span class="nav-number">6.8.1.</span> <span class="nav-text">May analysis</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Must-analysis"><span class="nav-number">6.8.2.</span> <span class="nav-text">Must analysis</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MOP-amp-Distributivity"><span class="nav-number">6.9.</span> <span class="nav-text">MOP &amp; Distributivity</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#区别"><span class="nav-number">6.9.1.</span> <span class="nav-text">区别</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Worklist算法"><span class="nav-number">6.10.</span> <span class="nav-text">Worklist算法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#07"><span class="nav-number">7.</span> <span class="nav-text">07</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Motivation"><span class="nav-number">7.1.</span> <span class="nav-text">Motivation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Call-Graph-调用图"><span class="nav-number">7.2.</span> <span class="nav-text">Call Graph 调用图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#调用图定义"><span class="nav-number">7.3.</span> <span class="nav-text">调用图定义</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#面向对象语言OOL的调用图构造-Java"><span class="nav-number">7.4.</span> <span class="nav-text">面向对象语言OOL的调用图构造 Java</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Method-Dispatch（Virtual-call）"><span class="nav-number">7.5.</span> <span class="nav-text">Method Dispatch（Virtual call）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Class-Hierarchy-Analysis-CHA-类层次分析"><span class="nav-number">7.6.</span> <span class="nav-text">Class Hierarchy Analysis CHA  类层次分析</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#利用CHA生成整个程序的调用图"><span class="nav-number">7.7.</span> <span class="nav-text">利用CHA生成整个程序的调用图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#过程间控制流分析图-Interprocedural-Control-Flow-Graph-ICFG"><span class="nav-number">7.8.</span> <span class="nav-text">过程间控制流分析图 Interprocedural Control-Flow Graph ICFG</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#08-amp-09"><span class="nav-number">8.</span> <span class="nav-text">08 &amp; 09</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#指针分析"><span class="nav-number">8.1.</span> <span class="nav-text">指针分析</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#指针分析影响因素"><span class="nav-number">8.2.</span> <span class="nav-text">指针分析影响因素</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#堆抽象-Allocation-Site（内存建模）"><span class="nav-number">8.2.1.</span> <span class="nav-text">堆抽象 Allocation Site（内存建模）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#上下文敏感Context-Sensitivity"><span class="nav-number">8.2.2.</span> <span class="nav-text">上下文敏感Context Sensitivity</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#流敏感-Flow-Sensitivity-控制流建模"><span class="nav-number">8.2.3.</span> <span class="nav-text">流敏感 Flow Sensitivity 控制流建模</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#分析范围-Analysis-Scope"><span class="nav-number">8.2.4.</span> <span class="nav-text">分析范围 Analysis Scope</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#分析语句种类"><span class="nav-number">8.3.</span> <span class="nav-text">分析语句种类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#指针分析规则"><span class="nav-number">8.4.</span> <span class="nav-text">指针分析规则</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#指针分析实现方式"><span class="nav-number">8.5.</span> <span class="nav-text">指针分析实现方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#指针分析算法"><span class="nav-number">8.6.</span> <span class="nav-text">指针分析算法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#过程内PTA算法"><span class="nav-number">8.6.1.</span> <span class="nav-text">过程内PTA算法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#例子-3"><span class="nav-number">8.6.2.</span> <span class="nav-text">例子</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#10"><span class="nav-number">9.</span> <span class="nav-text">10</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#指针分析处理函数调用"><span class="nav-number">9.1.</span> <span class="nav-text">指针分析处理函数调用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Call调用语句规则"><span class="nav-number">9.1.1.</span> <span class="nav-text">Call调用语句规则</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#过程间PTA算法"><span class="nav-number">9.1.2.</span> <span class="nav-text">过程间PTA算法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#例子-4"><span class="nav-number">9.1.3.</span> <span class="nav-text">例子</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#11"><span class="nav-number">10.</span> <span class="nav-text">11</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#上下文不敏感分析"><span class="nav-number">10.1.</span> <span class="nav-text">上下文不敏感分析</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#上下文敏感分析"><span class="nav-number">10.2.</span> <span class="nav-text">上下文敏感分析</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#上下文敏感指针分析：规则"><span class="nav-number">10.3.</span> <span class="nav-text">上下文敏感指针分析：规则</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Context-Sensitive-Pointer-Analysis：Algorithms"><span class="nav-number">10.4.</span> <span class="nav-text">Context Sensitive Pointer Analysis：Algorithms</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Context-Sensitivity-Variants-上下文Select函数选取规则"><span class="nav-number">10.5.</span> <span class="nav-text">Context Sensitivity Variants 上下文Select函数选取规则</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Call-site-Sensitivity"><span class="nav-number">10.5.1.</span> <span class="nav-text">Call-site Sensitivity</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Object-Sensitivity"><span class="nav-number">10.5.2.</span> <span class="nav-text">Object Sensitivity</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Type-Sensitivity"><span class="nav-number">10.5.3.</span> <span class="nav-text">Type Sensitivity</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#总体对比"><span class="nav-number">10.5.4.</span> <span class="nav-text">总体对比</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#12-amp-13"><span class="nav-number">11.</span> <span class="nav-text">12 &amp; 13</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#信息流安全"><span class="nav-number">11.1.</span> <span class="nav-text">信息流安全</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#机密性和完整性"><span class="nav-number">11.2.</span> <span class="nav-text">机密性和完整性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#显示流和隐藏信道-Explicit-Flows-and-Covert-Channels"><span class="nav-number">11.3.</span> <span class="nav-text">显示流和隐藏信道-Explicit Flows and Covert Channels</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#污点分析"><span class="nav-number">11.4.</span> <span class="nav-text">污点分析</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#概念"><span class="nav-number">11.4.1.</span> <span class="nav-text">概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#污点分析具体规则"><span class="nav-number">11.4.2.</span> <span class="nav-text">污点分析具体规则</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#14"><span class="nav-number">12.</span> <span class="nav-text">14</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Motivation-1"><span class="nav-number">12.1.</span> <span class="nav-text">Motivation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Datalog介绍"><span class="nav-number">12.2.</span> <span class="nav-text">Datalog介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Data"><span class="nav-number">12.2.1.</span> <span class="nav-text">Data</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Logic-Rule"><span class="nav-number">12.2.2.</span> <span class="nav-text">Logic(Rule)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Datalog谓词分类"><span class="nav-number">12.2.3.</span> <span class="nav-text">Datalog谓词分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Datalog程序运行"><span class="nav-number">12.2.4.</span> <span class="nav-text">Datalog程序运行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Datalog实现指针分析"><span class="nav-number">12.2.5.</span> <span class="nav-text">Datalog实现指针分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#概念-1"><span class="nav-number">12.2.6.</span> <span class="nav-text">概念</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#上下文不敏感PTA示例"><span class="nav-number">12.3.</span> <span class="nav-text">上下文不敏感PTA示例</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#全程序指针分析-上下文敏感"><span class="nav-number">12.4.</span> <span class="nav-text">全程序指针分析-上下文敏感</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Datalog实现污点分析"><span class="nav-number">12.5.</span> <span class="nav-text">Datalog实现污点分析</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#15"><span class="nav-number">13.</span> <span class="nav-text">15</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Infeasible-and-Realizable-Paths——基本概念"><span class="nav-number">13.1.</span> <span class="nav-text">Infeasible and Realizable Paths——基本概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CFL-Reachablity（IFDS的理论基础，识别Realizable-path）"><span class="nav-number">13.2.</span> <span class="nav-text">CFL-Reachablity（IFDS的理论基础，识别Realizable path）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IFDS"><span class="nav-number">13.3.</span> <span class="nav-text">IFDS</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Supergraph（之前叫iCFG）-amp-Flow-Functions"><span class="nav-number">13.4.</span> <span class="nav-text">Supergraph（之前叫iCFG）&amp; Flow Functions</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#IFDS步骤一：构造Supergraph"><span class="nav-number">13.4.1.</span> <span class="nav-text">IFDS步骤一：构造Supergraph</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IFDS步骤一：设计流函数"><span class="nav-number">13.4.2.</span> <span class="nav-text">IFDS步骤一：设计流函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Exploded-Supergraph-and-Tabulation-Algorithm"><span class="nav-number">13.5.</span> <span class="nav-text">Exploded Supergraph and Tabulation Algorithm</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#IFDS步骤二：构造exploded-supergraph-G"><span class="nav-number">13.5.1.</span> <span class="nav-text">IFDS步骤二：构造exploded supergraph G#</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IFDS步骤三：Tabulation算法——判断是否可达"><span class="nav-number">13.5.2.</span> <span class="nav-text">IFDS步骤三：Tabulation算法——判断是否可达</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Understanding-the-Distributivity-of-IFDS"><span class="nav-number">13.6.</span> <span class="nav-text">Understanding the Distributivity of IFDS</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#16"><span class="nav-number">14.</span> <span class="nav-text">16</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Soundness-amp-Soundiness"><span class="nav-number">14.1.</span> <span class="nav-text">Soundness &amp; Soundiness</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#复杂语言特性一：Java-Reflection—反射"><span class="nav-number">14.2.</span> <span class="nav-text">复杂语言特性一：Java Reflection—反射</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#什么是Java反射"><span class="nav-number">14.2.1.</span> <span class="nav-text">什么是Java反射</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#分析方法"><span class="nav-number">14.2.2.</span> <span class="nav-text">分析方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#改进"><span class="nav-number">14.2.3.</span> <span class="nav-text">改进</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#复杂语言特性二：Native-Code"><span class="nav-number">14.3.</span> <span class="nav-text">复杂语言特性二：Native Code</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#参考"><span class="nav-number">15.</span> <span class="nav-text">参考</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="0range"
      src="/images/yfy.png">
  <p class="site-author-name" itemprop="name">0range</p>
  <div class="site-description" itemprop="description">zzz</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">33</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">19</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/0range228" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;0range228" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>




      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        


<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart" aria-hidden="true"></i>
  </span>
   Powered By - 
  <span class="author" itemprop="copyrightHolder">0range</span>

  <!--
    <span class="post-meta-divider"> | </span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    <span title="站点总字数">379k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">10:32</span>
  -->

</div>

        






  <script>
  function leancloudSelector(url) {
    url = encodeURI(url);
    return document.getElementById(url).querySelector('.leancloud-visitors-count');
  }
  if (CONFIG.page.isPost) {
    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.getAttribute('id'));
      var title = visitors.dataset.flagTitle;

      Counter('get', `/classes/Counter?where=${JSON.stringify({ url })}`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .then(response => response.json())
              .then(() => {
                leancloudSelector(url).innerText = counter.time + 1;
              })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              })
          } else {
              Counter('post', '/classes/Counter', { title, url, time: 1 })
                .then(response => response.json())
                .then(() => {
                  leancloudSelector(url).innerText = 1;
                })
                .catch(error => {
                  console.error('Failed to create', error);
                });
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }
  } else {
    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.getAttribute('id'));
      });

      Counter('get', `/classes/Counter?where=${JSON.stringify({ url: { '$in': entries } })}`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length === 0) {
            document.querySelectorAll('.leancloud_visitors .leancloud-visitors-count').forEach(element => {
              element.innerText = 0;
            });
            return;
          }
          for (let item of results) {
            let { url, time } = item;
            leancloudSelector(url).innerText = time;
          }
          for (let url of entries) {
            var element = leancloudSelector(url);
            if (element.innerText == '') {
              element.innerText = 0;
            }
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }
  }

  fetch('https://app-router.leancloud.cn/2/route?appId=Xm92yiHJb6lBpsP02sgh3uGo-gzGzoHsz')
    .then(response => response.json())
    .then(({ api_server }) => {
      var Counter = (method, url, data) => {
        return fetch(`https://${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : 'Xm92yiHJb6lBpsP02sgh3uGo-gzGzoHsz',
            'X-LC-Key'    : 'l8KvoMr1i8urA7X7BzPMtQC7',
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    });
  </script>


      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/pisces.js"></script>
<script src="/js/next-boot.js"></script>



  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>




  <script src="/js/local-search.js"></script>












  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'Xm92yiHJb6lBpsP02sgh3uGo-gzGzoHsz',
      appKey     : 'l8KvoMr1i8urA7X7BzPMtQC7',
      placeholder: "Say Something~",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>


<!--

  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unjkp.com/valine/dist/Valine.min.js"></script>  
  <script src="/js/Valine.min.js"></script> 

   
  
  <script src="/js/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(function (item) {
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'Xm92yiHJb6lBpsP02sgh3uGo-gzGzoHsz',
        appKey: 'l8KvoMr1i8urA7X7BzPMtQC7',
        placeholder: 'Say Something~',
        avatar:'mm',
        guest_info:['nick'] ,  //评论者只需要提供评论的昵称即可
        pageSize:'10' || 10,
    });
  
    var infoEle = document.querySelector('#comments .info');
    if (infoEle && infoEle.childNodes && infoEle.childNodes.length > 0){
      infoEle.childNodes.forEach(function(item) {
        item.parentNode.removeChild(item);
      });
    }
  </script>

-->

</body>
</html>

<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/click_love.js"></script>